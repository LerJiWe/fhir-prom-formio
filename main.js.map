{"version":3,"sources":["./src/environments/environment.ts","./src/app/structure-ir/StructMD-IRspec.ts","./src/app/smart-auth/smart-auth.module.ts","./src/app/questionnaire-center/questionnaire-center.module.ts","./node_modules/moment/locale sync ^\\.\\/.*$","./src/app/smart-auth/launch.component.ts","./src/app/smart-auth/launch.component.html","./src/app/app.component.ts","./src/app/app.component.html","./src/app/structure-ir/VisitorFormIO.ts","./src/app/app.module.ts","./src/app/smart-auth/fhir-client.service.ts","./src/app/structure-ir/questionnaire-to-ir.ts","./src/app/questionnaire-center/questionnaire-center.component.ts","./src/app/questionnaire-center/questionnaire-center.component.html","./src/app/app-routing.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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oBACP,4DAAY;iBACb;gBACD,SAAS,EAAE,CAAC,sEAAiB,CAAC;aAC/B;;;;;;;;;;;;;;ACXD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACM;AACF;AAE7C,WAAW;AAC+C;AACxB;AAK8C;;AAJ/E,+CAAc,CAAC,GAAG,CAAC,UAAU,CAAC,iBAAiB,CAAC,CAAC;AAClD,yDAAS,CAAC,SAAS,GAAG,YAAY,CAAC;AAe5B,MAAM,yBAAyB;;wGAAzB,yBAAyB;4KAAzB,yBAAyB,kBAR3B;YACP,4DAAY;YACZ,0DAAW;YAEX,4DAAY;SACb;mIAGU,yBAAyB,mBATrB,4FAA4B,aAEzC,4DAAY;QACZ,0DAAW;QAEX,4DAAY,aAEJ,4FAA4B;6FAE3B,yBAAyB;cAVrC,sDAAQ;eAAC;gBACR,YAAY,EAAE,CAAC,4FAA4B,CAAC;gBAC5C,OAAO,EAAE;oBACP,4DAAY;oBACZ,0DAAW;oBAEX,4DAAY;iBACb;gBACD,OAAO,EAAE,CAAC,4FAA4B,CAAC;aACxC;;;;;;;;;;;;;ACtBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2B;;;;;;;;;;;;ACnSA;AAAA;AAAA;AAAA;AAAA;AAAkD;AACf;;AAO5B,MAAM,eAAe;IAE1B,gBAAgB,CAAC;IAEjB,QAAQ;QAEN,gDAAgD;QAChD,MAAM,GAAG,GAAG,cAAc,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QAC/C,MAAM,MAAM,GAAG,cAAc,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;QAErD,IAAI,GAAG,IAAI,MAAM,EAAE;YACjB,+BAA+B;YAC/B,iDAAW,CAAC,SAAS,CAAC;gBACpB,QAAQ,EAAE,YAAY;gBACtB,KAAK,EAAE,+DAA+D;gBACtE,WAAW,EAAE,w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","file":"main.js","sourcesContent":["// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import fs from \"fs\";\nimport moment, { Moment, isMoment } from \"moment\";\nimport { Visitor } from \"./Visitor\";\n\n/*  # StructMD-IR \n    ## StructMD-IRspec Grammar\n         StructMD-IRspec StructMD-IR\n    ## StructMD-IRspec json \n         json  json \n    ## StructMD-IRspec \n         json  Toolkit  Visitor \n */\n\n/*  # StructMD-IR \n    ## StructMD-IRspec Compiler\n        -   StructMD-IRspec grammar\n        -    StructMD-IRspec.json\n        -    Grammar\n        -    StructMD-IRspec \n                StructMD-IR Toolkit  StructMD-IRspec.json\n    ## StructMD-IR Toolkit\n        -   \n            -   StructMD-IRspec \n            -    Visitor Design Pattern  Visitor\n                Visitor  traversal StructMD-IRspec \n        -    StructMD-IRspec.json StructMD-IRspec \n        -    Visitor \n            -    StructMD-IRspec.json\n            -    StructMD-IR \n                 LLM  prompt \n            -    StructMD-IR\n            -    StructMD-IR json-to-json \n                 json  StructMD-IR \n                -    StructMD-IR  mName, code  name, display\n                -    json-to-yamal  YAML\n                     json json-to-yaml\n                -   \n */\n\n/*  # null  undefined \n    ## StructMD-IRspec Compiler\n        -   \n            -   StructMD-IRspec  Node  Condition \n            -   \n        -    json  (json )\n            -   DATA ( undefined  null)\n            -   DATA  undefined ()\n        -   \n            -    DATA\n            -    undefined\n            -    null\n    ## StructMD-IR Toolkit \n        -   \n            -   \n            -    Compiler \n                -   \n                    \n                -   \n                -    dump  StructMD-IRspec\n            -    StructMD-IRspec \n                -    constructor \n                    -    this  constructor\n                    -   \n        -   \n            -   DATA\n            -   DATA  null ()\n            -   Object\n            -   Object  undefined ( Compiler )\n        -    Compiler  constructor \n            -    Compiler  DATA\n            -    Compiler  DATA  null ()\n        -    IRspec  json  (json )\n            -   DATA\n            -   DATA  undefined ()\n */\n\n/*  # StructMD-IRspec  classes  HAS-A \n    ## IRspec\n        -   <NODES>\n        -   <MACROS> (Local Macro)\n    ## Global Macro\n        -   <MACROS>\n    ## NODES\n        -   NonLeafNode\n            -   <NODES>\n        -   NonLeafNode (child: NonLeafMacro)\n        -   LeafNode (type: other)\n        -   LeafNode (type: CodeType)\n            -   <OPTIONS>\n        -   LeafNode (type: LeafMacro)\n        -   CommentNode\n        -   Node  Condition\n    ## MACROS\n        -   NonLeafMacro\n            -   <NODES>\n        -   NonLeafMacro (child: NonLeafMacro) \n        -   LeafMacro (type: other)\n        -   LeafMacro (type: CodeType)\n            -   <OPTIONS>\n        -   LeafMacro (type: LeafMacro) \n    ## OPTIONS\n        -   Option\n            -   NonLeafAttachment\n                -   <NODES>\n            -   NonLeafAttachment (child: NonLeafMacro)\n            -   LeafAttachment (type: other)\n            `   LeafAttachment (type: CodeType)\n                -   <OPTIONS>\n            -   LeafAttachment (type: LeafMacro)\n */\n\n/*  # \n        -   MacroMap class  static  globals\n        -    IRspec  MacroMap object instance  locals\n        -   Q:   (Non)LeafNode  (Non)LeafAttachment \n            A:   ofSpec\n                ofSpec  IRspec locals\n                ofSpec  undefined MacroMap  globals \n */\n\ninterface Visitee {\n    accept(visitor: Visitor, ...data: any[]): any;\n}\n\n/**  StructMD-IRspec \n * \n *     1) StructMD-IRspec Compiler \n *     2) StructMD-IR Toolkit \n */\nexport class IRspec implements Visitee {\n\n    /**  StructMD-IRspec\n     *  DB \n     */\n    private static all: Map<number, IRspec> = new Map<number, IRspec>();\n\n    /**  specNum  StructMD-IRspec\n     *  DB \n     * @param specNum  StructMD-IRspec \n     * @returns  StructMD-IRspec\n     *           undefined\n     */\n    static get(specNum: number): IRspec | undefined {\n        return IRspec.all.get(specNum);\n    }\n\n    //..10...15...20...25...30...35...40...45...50...55...60...65...70...75...80...85...90...95..100\n\n    /**  IRspec \n     */\n    specNum: number;\n\n    /** []  IRspec \n     *  null\n     */\n    display: string | null;\n\n    /** []  IRspec \n     *  IRspec  MacroMap\n     *  MacroMap instance  get \n     */\n    macros: MacroMap;\n\n    /**  IRspec \n     */\n    children: Node[];\n\n    /** []  Visitor \n     *  attachment \n     *  ()\n     */\n    childNames: string[];\n\n    // private sourceMacro: NonLeafMacro;  IRspec \n\n    /**  StructMD-IRspec Compiler \n     * @param specNum  IRspec \n     * @param display  IRspec  null\n     * @param macros  IRspec \n     * @param children  IRspec \n     */\n    constructor(specNum: number,\n        display: string | null,\n        macros: MacroMap,\n        children: Node[]);\n\n    /**  StructMD-IR Toolkit \n     * @param irSpecFile StructIR-Spec \n     */\n    constructor(irSpecFile: string);\n\n    constructor(p1: number | string,\n        p2?: string | null,\n        p3?: MacroMap,\n        p4?: Node[]) {\n        if (typeof p1 === \"number\") {\n            //  StructMD-IRspec Compiler \n            this.specNum = p1;\n            this.display = <string | null>p2;\n            this.macros = <MacroMap>p3;\n            this.children = <Node[]>p4;\n\n            this.childNames = [];\n\n        } else {\n            //  StructMD-IR Toolkit \n            let irSpecFile = p1;\n            let target = <{\n                specNum: number,\n                display?: string,\n                macro?: [],\n                child: []\n            }>JSON.parse(irSpecFile); // \n            // }>JSON.parse(fs.readFileSync(irSpecFile).toString());\n\n            this.specNum = target.specNum;\n\n            this.display = target.display !== undefined\n                ? target.display\n                : null;\n\n            //  macro  childchild  macro\n            this.macros = new MacroMap(this);\n            if (target.macro !== undefined) {  //  undefined macroMap \n                for (let elmt of target.macro) {\n                    // lookahead \n                    let macro: Macro = (Object.keys(elmt).includes(\"child\"))\n                        ? new NonLeafMacro(elmt, this)\n                        : new LeafMacro(elmt, this);\n                    //  macroMap.locals\n                    this.macros.setLocal(macro.name, macro);\n                }\n            }\n\n            //  child\n            this.children = [];\n            this.childNames = [];\n            let nameSet: Set<string> = new Set<string>();\n            for (let i = 0; i < target.child.length; i++) {\n                let elmt: any = target.child[i];\n\n                // lookahead \n                if (Object.keys(elmt).includes(\"displayC\")) {\n                    let node: CommentNode = new CommentNode(elmt, i);\n                    this.children.push(node);\n                    nameSet.add(<string>node.name);\n\n                } else if (Object.keys(elmt).includes(\"child\")) {\n                    let node: NonLeafNode = new NonLeafNode(elmt, this, this);\n                    this.children.push(node);\n                    nameSet.add(node.name);   //  name  mName  Set\n                    nameSet.add(node.mName);\n\n                } else {\n                    let node: LeafNode = new LeafNode(elmt, this, this);\n                    this.children.push(node);\n                    nameSet.add(node.name);\n                    nameSet.add(node.mName);\n\n                    if (node.type instanceof CodeType) {\n                        // let prefix: string = `${Attachment.prefix}_${node.mName}`;\n                        let prefix: string = node.mName + Attachment.sep;\n                        for (let n of node.type.getAttachNames(prefix)) {\n                            nameSet.add(n);\n                        }\n                    }\n                }\n            }\n            this.childNames = Array.from(nameSet);\n\n            //  StructMD-IR Toolkit  StructMD-IRspec pool\n            if (IRspec.all.has(this.specNum)) {\n                console.log(` ${this.specNum}  StructMD-IRspec `);\n            }\n            IRspec.all.set(this.specNum, this);\n        }\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitIRspec(this, ...data);\n    }\n}\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n//..5...10...15...20...25...30...35...40...45...50...55...60...65...70...75...80...85...90...95..100\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\n/** \n */\nexport class MacroMap implements Visitee {\n\n    /** \n     * \n     */\n    private static globals: Map<string, Macro>;\n\n    /** \n     * @param name \n     * @returns \n     *           undefined\n     */\n    static getGlobal(name: string): Macro | undefined {\n        // lazy initialization\n        if (MacroMap.globals === undefined) {\n            MacroMap.globals = new Map<string, Macro>();\n\n            //  globalMacros.json \n            // let macros = <object[]>JSON.parse(\n            //     fs.readFileSync(\"src\\\\globalMacros.json\").toString()\n            // );\n            // let macros = <object[]>globalMacros; // (import jsonglobalMacros )\n            let macros = []; // (import jsonglobalMacros )\n\n            for (let elmt of macros) {\n                // lookahead \n                let macro: Macro = (Object.keys(elmt).includes(\"child\"))\n                    ? new NonLeafMacro(elmt, null)  // null \n                    : new LeafMacro(elmt, null);\n                //  MacroMap.globals\n                MacroMap.globals.set(macro.name, macro);\n            }\n        }\n\n        // query\n        return MacroMap.globals.get(name);\n    }\n\n    //..10...15...20...25...30...35...40...45...50...55...60...65...70...75...80...85...90...95..100\n\n    /** []  MacroMap  StructMD-IRspec\n     *  IRspec Node, Macro  null\n     *  IRspec.macros  double-link\n     *  (undefined)\n     */\n    ofSpec?: IRspec;\n\n    /** []  ofSpec\n     */\n    locals: Map<string, Macro>;\n\n    /**  StructMD-IRspec Compiler \n     */\n    constructor();\n\n    /**  StructMD-IR Toolkit \n     * @param ofSpec  MacroMap  StructMD-IRspec\n     */\n    constructor(ofSpec: IRspec);\n\n    constructor(p1?: IRspec) {\n        this.locals = new Map<string, Macro>();\n\n        if (p1 === undefined) {\n            //  StructMD-IRspec Compiler \n            this.ofSpec = undefined;\n\n        } else {\n            //  StructMD-IR Toolkit \n            this.ofSpec = p1;\n        }\n    }\n\n    /** \n     * @param name \n     * @param macro \n     */\n    setLocal(name: string,\n        macro: Macro): void {\n        this.locals.set(name, macro);\n    }\n\n    /** \n     * @param name \n     *             \n     * @returns \n     *           undefined\n     */\n    get(name: string): Macro | undefined {\n        if (name.startsWith(\"*\")) {\n            // \n            return MacroMap.getGlobal(name.substring(1));\n\n        } else {\n            // \n            return this.locals.get(name);\n        }\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitMacroMap(this, ...data);\n    }\n}\n\n/** \n *  NonLeafMacro  LeafMacro \n *  Macro \n */\nexport abstract class Macro implements Visitee {\n\n    /** []  StructMD-IRspec\n     *  null\n     *  (undefined)\n     */\n    ofSpec?: IRspec | null;\n\n    /**  Macro \n     */\n    name: string;\n\n    /**  StructMD-IRspec Compiler \n     * @param name  Macro \n     */\n    constructor(name: string);\n\n    /**  StructMD-IR Toolkit \n     * @param target \n     * @param ofSpec  StructMD-IRspec null\n     */\n    constructor(target: object,\n        ofSpec: IRspec | null);\n\n    constructor(p1: string | object,\n        p2?: IRspec | null) {\n        if (typeof p1 === \"string\") {\n            //  StructMD-IRspec Compiler \n            this.ofSpec = undefined;\n            this.name = p1;\n\n        } else {\n            //  StructMD-IR Toolkit \n            let target = <{\n                name: string\n            }>p1;\n            let ofSpec = <IRspec | null>p2;\n\n            this.ofSpec = ofSpec;\n            this.name = target.name;\n        }\n    }\n\n    abstract accept(visitor: Visitor, ...data: any[]): any;\n}\n\n/** \n */\nexport class NonLeafMacro extends Macro {\n\n    /**  NonLeafMacro \n     */\n    children: Node[];\n\n    /** []  Visitor \n     *  attachment \n     *  ()\n     */\n    childNames: string[];\n\n    // private sourceMacro: NonLeafMacro;  \n\n    /**  StructMD-IRspec Compiler \n     * @param name  Macro \n     * @param children  NonLeafMacro \n     */\n    constructor(name: string,\n        children: Node[]);\n\n    /**  StructMD-IR Toolkit \n     * @param target \n     * @param ofSpec  StructMD-IRspec null\n     */\n    constructor(target: object,\n        ofSpec: IRspec | null);\n\n    constructor(p1: string | object,\n        p2: Node[] | IRspec | null) {\n        if (typeof p1 === \"string\") {\n            //  StructMD-IRspec Compiler \n            super(p1);\n            this.children = <Node[]>p2;\n\n            this.childNames = [];\n\n        } else {\n            //  StructMD-IR Toolkit \n            let target = <{\n                child: []\n            }>p1;\n            let ofSpec = <IRspec | null>p2;\n\n            super(p1, ofSpec);\n\n            this.children = [];\n            this.childNames = [];\n            let nameSet: Set<string> = new Set<string>();\n            for (let i = 0; i < target.child.length; i++) {\n                let elmt: any = target.child[i];\n\n                // lookahead \n                if (Object.keys(elmt).includes(\"displayC\")) {\n                    let node: CommentNode = new CommentNode(elmt, i);\n                    this.children.push(node);\n                    nameSet.add(<string>node.name);\n\n                } else if (Object.keys(elmt).includes(\"child\")) {\n                    let node: NonLeafNode = new NonLeafNode(elmt, this, ofSpec);\n                    this.children.push(node);\n                    nameSet.add(node.name);\n                    nameSet.add(node.mName);\n\n                } else {\n                    let node: LeafNode = new LeafNode(elmt, this, ofSpec);\n                    this.children.push(node);\n                    nameSet.add(node.name);\n                    nameSet.add(node.mName);\n\n                    if (node.type instanceof CodeType) {\n                        // let prefix: string = `${Attachment.prefix}_${node.mName}`;\n                        let prefix: string = node.mName + Attachment.sep;\n                        for (let n of node.type.getAttachNames(prefix)) {\n                            nameSet.add(n);\n                        }\n                    }\n                }\n            }\n            this.childNames = Array.from(nameSet);\n        }\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitNonLeafMacro(this, ...data);\n    }\n}\n\n/** \n */\nexport class LeafMacro extends Macro {\n\n    /**  LeafMacro \n     */\n    type: Type;\n\n    // private sourceMacro: LeafMacro;  \n\n    /**  StructMD-IRspec Compiler \n     * @param name  Macro \n     * @param type  LeafMacro \n     */\n    constructor(name: string,\n        type: Type);\n\n    /**  StructMD-IR Toolkit \n     * @param target \n     * @param ofSpec  StructMD-IRspec null\n     */\n    constructor(target: object,\n        ofSpec: IRspec | null);\n\n    constructor(p1: string | object,\n        p2: Type | IRspec | null) {\n        if (typeof p1 === \"string\") {\n            //  StructMD-IRspec Compiler \n            super(p1);\n            this.type = <Type>p2;\n\n        } else {\n            //  StructMD-IR Toolkit \n            let target = <{\n                type: string\n            }>p1;\n            let ofSpec = <IRspec | null>p2;\n\n            super(p1, ofSpec);\n\n            // lookahead \n            this.type = (target.type === \"decimal\") ? DecimalType.create(p1)\n                : (target.type === \"integer\") ? IntegerType.create(p1)\n                    : (target.type === \"string\") ? StringType.create(p1)\n                        : (target.type === \"markdown\") ? MarkdownType.create(p1)\n                            : (target.type === \"date\") ? DateType.create(p1)\n                                : (target.type === \"dateTime\") ? DateTimeType.create(p1)\n                                    : (target.type === \"time\") ? TimeType.create(p1)\n                                        : (target.type === \"boolean\") ? BooleanType.create(p1)\n                                            : (target.type === \"base64Binary\") ? Base64BinaryType.create(p1)\n                                                : /* target.type === \"code\" */       new CodeType(p1, ofSpec)\n                ;\n        }\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitLeafMacro(this, ...data);\n    }\n}\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n//..5...10...15...20...25...30...35...40...45...50...55...60...65...70...75...80...85...90...95..100\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\n/** \n *  CommentNode  Node1\n * Node1  LeafNode  NonLeafNode\n */\nexport abstract class Node implements Visitee {\n\n    abstract accept(visitor: Visitor, ...data: any[]): any;\n}\n\n/** \n * [] CommentNode  LeafNode NonLeafOOO \n *  name __comment NonLeafOOO \n *  readable \n *      (1)  toReadable  json __comment123: \"lalala\"\n *      (2)  json-to-yaml  yaml     __comment123: lalala\n *      (3)  yaml  __comment  mapping\n *           yaml     # lalala\n *           mapping  displayC \n */\nexport class CommentNode extends Node {\n\n    static prefix: string = \"__comment\";\n\n    /** []  CommentNode \n     * __comment\n     */\n    name?: string;\n\n    /** []  YAML \n     */\n    comment: string;\n\n    /**  StructMD-IRspec Compiler \n     * @param comment  YAML \n     */\n    constructor(comment: string);\n\n    /**  StructMD-IR Toolkit \n     * @param target  displayC  Node \n     * @param ranking  CommentNode  0 \n     *                 CommentNode __comment\n     */\n    constructor(target: object,\n        ranking: number);\n\n    constructor(p1: string | object,\n        p2?: number) {\n        super();\n\n        if (typeof p1 === \"string\") {\n            //  StructMD-IRspec Compiler \n            this.comment = p1;\n\n        } else {\n            //  StructMD-IR Toolkit \n            let target = <{\n                displayC: string\n            }>p1;\n\n            this.name = `${CommentNode.prefix}${<number>p2}`;\n            this.comment = target.displayC;\n        }\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitCommentNode(this, ...data);\n    }\n}\n\n/** \n *  NonLeafNode  LeafNode \n *  Node1 \n */\nexport abstract class Node1 extends Node implements Visitee {\n\n    /** []  StructMD-IRspec\n     *     IRspec  Node1 ()\n     *      Node1\n     *     IRspec  NonLeafAttachment  Node1\n     *      NonLeafAttachment  Node1\n     *  null StructMD-IRspec\n     *      Node1\n     *      NonLeafAttachment  Node1\n     *  (undefined)\n     */\n    ofSpec?: IRspec | null;\n\n    /** []  Node1 \n     *  children  double-link\n     *     NonLeafNode.children,\n     *     IRspec.children,\n     *     NonLeafMacro.children,\n     *     NonLeafAttachment.children.\n     *  (undefined)\n     */\n    parent?: NonLeafNode | IRspec | NonLeafMacro | NonLeafAttachment;\n\n    /**  Node1 \n     */\n    name: string;\n\n    /**  Node1  (Machine NAME)\n     *  identifier\n     */\n    mName: string;\n\n    /**  StructMD-IR  Node1 \n     *  null\n     */\n    condition: Condition | null;\n\n    /**  Node1 \n     */\n    cardinality: Cardinality;\n\n    /** []  StructMD-IR  0  Node1 \n     * cardinality  0displayAbsent \n     *  null\n     */\n    displayAbsent: string | null;\n\n    /** []  Node1 \n     *  form  tooltip\n     */\n    description: string | null;\n\n    /**  StructMD-IRspec Compiler \n     * @param name  Node1 \n     * @param mName  Node1  (Machine NAME)\n     * @param condition  Node1  null\n     * @param cardinality  Node1 \n     * @param displayAbsent  StructMD-IR  0  Node1 \n     *                       null\n     * @param description  Node1  null\n     */\n    constructor(name: string,\n        mName: string,\n        condition: Condition | null,\n        cardinality: Cardinality,\n        displayAbsent: string | null,\n        description: string | null);\n\n    /**  StructMD-IR Toolkit \n     * @param target \n     * @param parent  Node1 \n     * @param ofSpec  Node1  StructMD-IRspec null\n     */\n    constructor(target: object,\n        parent: NonLeafNode | IRspec | NonLeafMacro | NonLeafAttachment,\n        ofSpec: IRspec | null);\n\n    constructor(p1: string | object,\n        p2: string | NonLeafNode | IRspec | NonLeafMacro | NonLeafAttachment,\n        p3: Condition | null | IRspec | null,\n        p4?: Cardinality,\n        p5?: string | null,\n        p6?: string | null) {\n        super();\n\n        if (typeof p1 === \"string\") {\n            //  StructMD-IRspec Compiler \n            this.ofSpec = undefined;\n            this.parent = undefined;\n            this.name = p1;\n            this.mName = <string>p2;\n            this.condition = <Condition | null>p3;\n            this.cardinality = <Cardinality>p4;\n            this.displayAbsent = <string | null>p5;\n            this.description = <string | null>p6;\n\n        } else {\n            //  StructMD-IR Toolkit \n            let target = <{\n                name: string,\n                mName?: string,     //  undefined\n                cond?: object,      //  undefined\n                card?: string,      //  undefined\n                display0?: string,  //  undefined\n                desc?: string       //  undefined\n            }>p1;\n            let parent = <NonLeafNode | IRspec | NonLeafMacro | NonLeafAttachment>p2;\n            let ofSPec = <IRspec | null>p3;\n\n            this.ofSpec = ofSPec;\n            this.parent = parent;\n\n            this.name = target.name;\n\n            this.mName = target.mName !== undefined\n                ? target.mName\n                : target.name;                           //  undefined name\n\n            this.cardinality = target.card !== undefined\n                ? Cardinality.create(target.card)\n                : Cardinality.oneOne;              //  undefined 1..1\n\n            this.displayAbsent = target.display0 !== undefined\n                ? target.display0\n                : null;\n\n            this.description = target.desc !== undefined\n                ? target.desc\n                : null;\n\n            //  Condition\n            // Condition  ofNode  Node1 subject  LeafNode\n            // A  B\n            //     [ { name: \"A\", type: boolean },\n            //       { name: \"B\", cond: {subject: \"A\", operator: \"=\", value: true} } ]\n            //  Node1.constructor()  B  cond \n            // B  this  Condition  ofNode\n            //  A  LeafNode  Condition  subject parent.children  \"A\" \n\n            this.condition = null;  // \n            if (target.cond !== undefined) {  //  Node1 \n                // lookahead subjectName\n                let cond = <{\n                    subject: string\n                }>target.cond;\n                let subjectName: string = cond.subject;\n\n                //  IRspec, NonLeafNode, NonLeafMacro  NonLeafAttachment\n                // children \n                //  Node1 parent.children  Node1 \n                for (let elderSibling of parent.children) {\n                    if (elderSibling instanceof CommentNode) continue;\n\n                    let e: Node1 = <Node1>elderSibling;\n                    if (subjectName === e.name || subjectName === e.mName) {\n                        this.condition = new Condition(e, target.cond, this);\n                        break;\n                    }\n                }\n            }\n        }\n    }\n}\n\n/** \n */\nexport class NonLeafNode extends Node1 {\n\n    /**  NonLeafNode \n     *  NonLeafNode children  NonLeafMacro \n     *  Node[]\n     */\n    children: Node[];\n\n    /** []  Visitor \n     *  attachment \n     *  ()\n     */\n    childNames: string[];\n\n    /** []  NonLeafNode \n     *  children  NonLeafMacro  NonLeafMacro\n     *  IRspec  macro  sourceMacro\n     *  NonLeafNode  null\n     */\n    sourceMacro: NonLeafMacro | null;\n\n    /**  StructMD-IRspec Compiler \n     * @param name  NonLeafNode \n     * @param mName  NonLeafNode  (Machine NAME)\n     * @param condition  NonLeafNode  null\n     * @param cardinality  NonLeafNode \n     * @param displayAbsent  StructMD-IR  0  NonLeafNode \n     *                       null\n     * @param description  NonLeafNode  null\n     * @param children  NonLeafNode \n     * @param sourceMacro  NonLeafNode  null\n     */\n    constructor(name: string,\n        mName: string,\n        condition: Condition | null,\n        cardinality: Cardinality,\n        displayAbsent: string | null,\n        description: string | null,\n        children: Node[],\n        sourceMacro: NonLeafMacro | null);\n\n    /**  StructMD-IR Toolkit \n     * @param target \n     * @param parent  NonLeafNode \n     * @param ofSpec  NonLeafNode  StructMD-IRspec null\n     */\n    constructor(target: object,\n        parent: NonLeafNode | IRspec | NonLeafMacro | NonLeafAttachment,\n        ofSpec: IRspec | null);\n\n    constructor(p1: string | object,\n        p2: string | NonLeafNode | IRspec | NonLeafMacro | NonLeafAttachment,\n        p3: Condition | null | IRspec | null,\n        p4?: Cardinality | IRspec | null,\n        p5?: string | null,\n        p6?: string | null,\n        p7?: Node[],\n        p8?: NonLeafMacro | null) {\n        if (typeof p1 === \"string\") {\n            //  StructMD-IRspec Compiler \n            super(p1,\n                <string>p2,\n                <Condition | null>p3,\n                <Cardinality>p4,\n                <string | null>p5,\n                <string | null>p6);\n            this.children = <Node[]>p7;\n            this.sourceMacro = <NonLeafMacro | null>p8;\n\n            this.childNames = [];\n\n        } else {\n            //  StructMD-IR Toolkit \n            let target = <{\n                child: []      // \n                | string  // \n            }>p1;\n            let parent = <NonLeafNode | IRspec | NonLeafMacro | NonLeafAttachment>p2;\n            let ofSpec = <IRspec | null>p3;\n\n            super(p1, parent, ofSpec);\n\n            if (Array.isArray(target.child)) {\n                // \n                this.sourceMacro = null;\n\n                this.children = [];\n                this.childNames = [];\n                let nameSet: Set<string> = new Set<string>();\n                for (let i = 0; i < target.child.length; i++) {\n                    let elmt: any = target.child[i];\n\n                    // lookahead \n                    if (Object.keys(elmt).includes(\"displayC\")) {\n                        let node: CommentNode = new CommentNode(elmt, i);\n                        this.children.push(node);\n                        nameSet.add(<string>node.name);\n\n                    } else if (Object.keys(elmt).includes(\"child\")) {\n                        let node: NonLeafNode = new NonLeafNode(elmt, this, ofSpec);\n                        this.children.push(node);\n                        nameSet.add(node.name);\n                        nameSet.add(node.mName);\n\n                    } else {\n                        let node: LeafNode = new LeafNode(elmt, this, ofSpec);\n                        this.children.push(node);\n                        nameSet.add(node.name);\n                        nameSet.add(node.mName);\n\n                        if (node.type instanceof CodeType) {\n                            // let prefix: string = `${Attachment.prefix}_${node.mName}`;\n                            let prefix: string = node.mName + Attachment.sep;\n                            for (let n of node.type.getAttachNames(prefix)) {\n                                nameSet.add(n);\n                            }\n                        }\n                    }\n                }\n                this.childNames = Array.from(nameSet);\n\n            } else {\n                // \n                this.sourceMacro = ofSpec === null\n                    ? <NonLeafMacro>MacroMap.getGlobal(target.child)  // \n                    : <NonLeafMacro>ofSpec.macros.get(target.child);  // \n\n                this.children = this.sourceMacro.children;\n                this.childNames = this.sourceMacro.childNames;\n            }\n        }\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitNonLeafNode(this, ...data);\n    }\n}\n\n/** \n */\nexport class LeafNode extends Node1 {\n\n    /**  LeafNode \n     *  LeafNode type  LeafMacro \n     *  Type\n     */\n    type: Type;\n\n    /** [] \n     *  form.io  1..1 NonLeafNode  EditGrid\n     *  EditGrid form.io  EditGrid  table \n     *  isKey  \n     */\n    isKey: boolean;\n\n    /** []  LeafNode \n     *  type  LeafMacro  LeafMacro\n     *  IRspec  macro  sourceMacro\n     *  LeafNode  null\n     */\n    sourceMacro: LeafMacro | null;\n\n    /**  StructMD-IRspec Compiler \n     * @param name  LeafNode \n     * @param mName  LeafNode  (Machine NAME)\n     * @param condition  LeafNode  null\n     * @param cardinality  LeafNode \n     * @param displayAbsent  StructMD-IR  0  LeafNode \n     *                       null\n     * @param description  LeafNode  null\n     * @param type  LeafNode \n     * @param isKey  LeafNode  1..1  NonLeafNode \n     *               LeafNode \n     *              () NonLeafNode  table\n     *               NonLeafNode  table  record\n     *              NonLeafNode  LeafNode  record  field\n     *               isKey  table  key\n     *              (StructMD-IRspec  key )\n     * @param sourceMacro  LeafNode  null\n     */\n    constructor(name: string,\n        mName: string,\n        condition: Condition | null,\n        cardinality: Cardinality,\n        displayAbsent: string | null,\n        description: string | null,\n        type: Type,\n        isKey: boolean,\n        sourceMacro: LeafMacro | null);\n\n    /**  StructMD-IR Toolkit \n     * @param target \n     * @param parent  LeafNode \n     * @param ofSpec  LeafNode  StructMD-IRspec null\n     */\n    constructor(target: object,\n        parent: NonLeafNode | IRspec | NonLeafMacro | NonLeafAttachment,\n        ofSpec: IRspec | null);\n\n    constructor(p1: string | object,\n        p2: string | NonLeafNode | IRspec | NonLeafMacro | NonLeafAttachment,\n        p3: Condition | null | IRspec | null,\n        p4?: Cardinality | IRspec | null,\n        p5?: string | null,\n        p6?: string | null,\n        p7?: Type,\n        p8?: boolean,\n        p9?: LeafMacro | null) {\n        if (typeof p1 === \"string\") {\n            //  StructMD-IRspec Compiler \n            super(p1,\n                <string>p2,\n                <Condition | null>p3,\n                <Cardinality>p4,\n                <string | null>p5,\n                <string | null>p6);\n            this.type = <Type>p7;\n            this.isKey = <boolean>p8;\n            this.sourceMacro = <LeafMacro | null>p9;\n\n        } else {\n            //  StructMD-IR Toolkit \n            let target = <{\n                type: string,\n                isKey: boolean | undefined\n            }>p1;\n            let parent = <NonLeafNode | IRspec | NonLeafMacro | NonLeafAttachment>p2;\n            let ofSpec = <IRspec | null>p3;\n\n            super(p1, parent, ofSpec);\n\n            this.isKey = (target.isKey === undefined) ? false : target.isKey;\n\n            let type: Type | undefined;\n            type = (target.type === \"decimal\") ? DecimalType.create(target)\n                : (target.type === \"integer\") ? IntegerType.create(target)\n                    : (target.type === \"string\") ? StringType.create(target)\n                        : (target.type === \"markdown\") ? MarkdownType.create(target)\n                            : (target.type === \"date\") ? DateType.create(target)\n                                : (target.type === \"dateTime\") ? DateTimeType.create(target)\n                                    : (target.type === \"time\") ? TimeType.create(target)\n                                        : (target.type === \"boolean\") ? BooleanType.create(target)\n                                            : (target.type === \"base64Binary\") ? Base64BinaryType.create(target)\n                                                : (target.type === \"code\") ? new CodeType(target, ofSpec)\n                                                    : /*  10  macro */      undefined  // \n                ;\n\n            if (type !== undefined) {\n                // \n                this.sourceMacro = null;\n                this.type = type;\n\n            } else {\n                // \n                this.sourceMacro = ofSpec === null\n                    ? <LeafMacro>MacroMap.getGlobal(target.type)  // \n                    : <LeafMacro>ofSpec.macros.get(target.type);  // \n\n                this.type = this.sourceMacro.type;\n            }\n        }\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitLeafNode(this, ...data);\n    }\n}\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n//..5...10...15...20...25...30...35...40...45...50...55...60...65...70...75...80...85...90...95..100\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\n/**  Node1  Condition\n *  StructMD-IR  Node1 \n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * \n *  # StructMD-IR  Node1 \n *  ## \n *      StructMD-IR  Node1 ( NonLeafNode  LeafNode) \n *       StructMD-IRspec  Condition  Cardinality \n *       Condition  Cardinality \n *  ## \n *      -   StructMD-IRspec\n *                      \"child\": [\n *                         {\n *          spec               \"name\": \"\",\n *          Subject            \"card\": \"0..*\",\n *                             \"type\": \"code\",\n *                             \"option\": [\"\", \"\", \"\", \"\"]\n *                         },\n *                         {\n *          spec              \"name\": \"\",\n *          Target             \"cond\": {\n *                                 \"subject\": \"\",\n *                                 \"operator\": \"has\",\n *                                 \"value\": \"\"\n *                             },\n *                             \"card\": \"1..*\",\n *                             \"type\": \"string\"\n *                         }\n *                      ]\n *      -   StructMD-IR\n *                      {\n *          irSubject       \"\": [\"\", \"\"],\n *          irTarget        \"\": [\"\", \"\"]\n *                      }\n *  ## \n *      -    specTarget.cond\n *           irTarget \n *      -    specTarget.cond  irSubject  cond.operator  exist\n *           irTarget \n *              (1) specTarget.cond.value  true   (spec )\n *                  \n *                  irSubject \n *              \n *              (2) specTarget.cond.value  false  (spec )\n *                  \n *                  irSubject \n *      -    specTarget.cond  irSubject  cond.operator  exist\n *           irTarget \n *              (1) irSubject  ()\n *              \n *            (2) irSubject  specSubject.type\n *              \n *            (3) irSubject  specTarget.cond\n *      -    irTarget  specTarget.card \n *  ## specSubject.card \n *      -   specTarget.cond.operator  exist irSubject \n *           specSubject.card.lower  0\n *      -   specTarget.cond.operator  (ge, lt, btw)\n *           irSubject  ()  specTarget.cond\n *           specSubject.card.upper  1\n *           1..1  0..1 irSubject  irTarget\n *      -   specTarget.cond.operator  (has, anyIn, allNotIn)\n *          specSubject.card  upper = 1  radio buttonupper > 1  check box\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * \n *  #  Condition \n *      \n *       SUBJECT                            OPERATOR        VALUE               \n *                                           \n *       NODE  DATA TYPE     CARDINALITY                  DATA TYPE           \n *      \n *       Leaf  decimal       ?..1         ge lt           number              \n *       Node                ?..1         btw             [number, number]    \n *                           0..?         exist           boolean             \n *            \n *             integer       ?..1         ge lt           number (integer)    \n *                           ?..1         btw             [number, number]    \n *                           0..?         exist           boolean             \n *            \n *             date          ?..1         ge lt           string (YYYY-MM-DD) \n *             dateTime      ?..1         btw             [string, string]    \n *                           0..?         exist           boolean             \n *            \n *             boolean       ?..1         eq              boolean | string    \n *                           0..?         exist           boolean             \n *            \n *             code          ?..?         has             string              \n *                           ?..?         anyIn allNotIn  string[]            \n *                           0..?         exist           boolean             \n *            \n *             string        0..?         exist           boolean             \n *             time                                                           \n *             markdown                                                       \n *             base64Binary                                                   \n *                                                        \n *       NonLeafNode                                                           \n *      \n *      btw (BeTWeen) \n *      boolean+eq  value  displayT  displayF compiler  boolean\n *      dateTime  date \n */\nexport class Condition implements Visitee {\n\n    /** []  Condition  Node1\n     *  Node1.condition  double-link\n     *  (undefined)\n     */\n    ofNode?: Node1;\n\n    /**  Condition  Node1\n     *  Node1  Node1\n     */\n    subject: Node1;\n\n    /**  Condition \n     */\n    operator: string;\n\n    /**  Condition \n     */\n    value: number | [number, number] |\n        Moment | [Moment, Moment] |\n        boolean |\n        Option | Option[];\n\n    /**  StructMD-IRspec Compiler \n     * @param subject  Condition  Node1\n     * @param operator  Condition \n     * @param value  Condition \n     */\n    constructor(subject: Node1,\n        operator: string,\n        value: number | [number, number]\n            | Moment | [Moment, Moment]\n            | boolean\n            | Option | Option[]);\n\n    /**  StructMD-IR Toolkit \n     * @param subject  Condition  Node1\n     * @param target \n     * @param ofNode  Condition  Node1\n     */\n    constructor(subject: Node1,\n        target: object,\n        ofNode: Node1);\n\n    constructor(p1: Node1,\n        p2: string | object,\n        p3: number | [number, number] | Moment | [Moment, Moment]\n            | boolean | Option | Option[] | Node1) {\n        if (typeof p2 === \"string\") {\n            //  StructMD-IRspec Compiler \n            this.ofNode = undefined;\n            this.subject = p1;\n            this.operator = p2;\n            this.value = <number | [number, number] | Moment\n                | [Moment, Moment] | boolean | Option | Option[]>p3;\n\n        } else {\n            //  StructMD-IR Toolkit \n            let subject = p1;\n            let target = <{\n                // subject: string,   Node1()  LeafNode p1 \n                operator: string;\n                value: number | [number, number]\n                | string | [string, string]\n                | boolean\n                | string | string[];\n            }>p2;\n            let ofNode = <Node1>p3;\n\n            this.ofNode = ofNode;\n            this.subject = subject;\n            this.operator = target.operator;\n\n            if (this.operator === \"exist\") {\n                this.value = <boolean>target.value;\n\n            } else if (subject instanceof LeafNode && subject.type instanceof CodeType) {\n                if (typeof target.value === \"string\") {\n                    // this.value = <Option>this.getOption(subject.type.options, target.value);\n                    this.value = <Option>subject.type.getOption(target.value);\n\n                } else {\n                    this.value = [];\n                    for (let elmt of <string[]>target.value) {\n                        // this.value.push(<Option>this.getOption(subject.type.options, elmt));\n                        this.value.push(<Option>subject.type.getOption(elmt));\n                    }\n                }\n\n            } else if (subject instanceof LeafNode && subject.type instanceof DateBoundType) {\n                if (typeof target.value === \"string\") {\n                    this.value = moment(target.value);\n\n                } else {\n                    let dates = <[string, string]>target.value;\n                    this.value = [moment(dates[0]), moment(dates[1])];\n                }\n\n            } else /* DecimalType, IntegerType  BooleanType */ {\n                this.value = <number | [number, number] | boolean>target.value;\n            }\n        }\n    }\n\n    // private getOption(options: Option[],\n    //                   target: string): Option | undefined\n    // {\n    //     for (let option of options) {\n    //         if (target === option.code || target === option.display) {\n    //             return option;\n    //         }\n    //     }\n\n    //     return undefined;\n    // }\n\n    toString(): string {\n        let subject: string = `(${this.subject.name})`;\n\n        let result: string = \"\";\n\n        switch (this.operator) {\n            case \"exist\":\n                return (this.value === true) ? `${subject}`\n                    : (this.value === false) ? `${subject}`\n                        : \" 1\"\n                    ;\n\n            case \"ge\":\n                result += (typeof this.value === \"number\") ? this.value\n                    : (isMoment(this.value)) ? this.value.format(\"YYYY-MM-DD\")\n                        : \" 2\"\n                    ;\n                result += ` <= ${subject}`;\n                return result;\n\n            case \"lt\":\n                result += `${subject} < `;\n                result += (typeof this.value === \"number\") ? this.value\n                    : (isMoment(this.value)) ? this.value.format(\"YYYY-MM-DD\")\n                        : \" 3\"\n                    ;\n                return result;\n\n            case \"btw\":\n                if (!Array.isArray(this.value)) {\n                    return \" 4\";\n                }\n\n                result += (typeof this.value[0] === \"number\") ? this.value[0]\n                    : (isMoment(this.value[0])) ? this.value[0].format(\"YYYY-MM-DD\")\n                        : \" 5\"\n                    ;\n                result += ` <= ${subject} < `;\n                result += (typeof this.value[1] === \"number\") ? this.value[1]\n                    : (isMoment(this.value[1])) ? this.value[1].format(\"YYYY-MM-DD\")\n                        : \" 6\"\n                    ;\n                return result;\n\n            case \"eq\":\n                return (this.value === true) ? `${subject}`\n                    : (this.value === false) ? `${subject}`\n                        : \" 7\"\n                    ;\n\n            case \"has\":\n                return (this.value instanceof Option) ? `${subject}${JSON.stringify(this.value.code)}`\n                    : \" 8\"\n                    ;\n\n            case \"anyIn\":\n            case \"allNotIn\":\n                if (Array.isArray(this.value) && this.value[0] instanceof Option) {\n                    for (let elmt of this.value) {\n                        result += `,\"${(<Option>elmt).code}\"`;\n                    }\n                    return (this.operator === \"anyIn\")\n                        ? `${subject}[${result.substring(1)}]`\n                        : `${subject}[${result.substring(1)}]`;\n\n                } else {\n                    return \" 9\";\n                }\n\n            default:\n                return \" 10\";\n        }\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitCondition(this, ...data);\n    }\n}\n\n/** \n *  0..1, 1..1, 0..*, 1..* \n *  Cardinality  Static Factory Marthod Design Pattern\n *  public  create() constructor()  private\n */\nexport class Cardinality implements Visitee {\n\n    /**  Cardinalities\n     */\n    static zeroOne = new Cardinality(0, 1);\n    static oneOne = new Cardinality(1, 1);\n    static zeroMany = new Cardinality(0, Number.MAX_SAFE_INTEGER);\n    static oneMany = new Cardinality(1, Number.MAX_SAFE_INTEGER);\n\n    //..10...15...20...25...30...35...40...45...50...55...60...65...70...75...80...85...90...95..100\n\n    /**  Cardinality  ()\n     */\n    lower: number;\n\n    /**  Cardinality  ()\n     * FHIR  Cardinality \n     *  Number.MAX_SAFE_INTEGER\n     */\n    upper: number;\n\n    /**  StructMD-IRspec Compiler \n     * @param lower  Cardinality  ()\n     * @param upper  Cardinality  ()\n     */\n    static create(lower: number,\n        upper: number): Cardinality;\n\n    /**  StructMD-IR Toolkit \n     * @param target \n     *               undefined  1..1\n     */\n    static create(target?: string): Cardinality;\n\n    static create(p1?: number | string,\n        p2?: number): Cardinality {\n        if (typeof p1 === \"number\") {\n            //  StructMD-IRspec Compiler \n            let upper = <number>p2;\n\n            if (p1 === 0 && upper === 1)\n                return Cardinality.zeroOne;\n            if (p1 === 1 && upper === 1)\n                return Cardinality.oneOne;\n            if (p1 === 0 && upper === Number.MAX_SAFE_INTEGER)\n                return Cardinality.zeroMany;\n            if (p1 === 1 && upper === Number.MAX_SAFE_INTEGER)\n                return Cardinality.oneMany;\n\n            return new Cardinality(p1, upper);\n\n        } else {\n            //  StructMD-IR Toolkit \n            let target = <string | undefined>p1;\n\n            if (target === undefined) {\n                return Cardinality.oneOne;\n\n            } else {\n                switch (target) {\n                    case \"0..1\":\n                        return Cardinality.zeroOne;\n                    case \"1..1\":\n                        return Cardinality.oneOne;\n                    case \"0..*\":\n                        return Cardinality.zeroMany;\n                    case \"1..*\":\n                        return Cardinality.oneMany;\n                    default:\n                        let dotdot: number = target.indexOf(\"..\");\n                        let uString: string = target.substring(dotdot + 2);\n                        let lower: number = parseInt(target.substring(0, dotdot));\n                        let upper: number = (uString === \"*\")\n                            ? Number.MAX_SAFE_INTEGER\n                            : parseInt(uString);\n                        return new Cardinality(lower, upper);\n                }\n            }\n        }\n    }\n\n    /**  Cardinality\n     * @param lower  Cardinality  ()\n     * @param upper  Cardinality  ()\n     */\n    private constructor(lower: number,\n        upper: number) {\n        this.lower = lower;\n        this.upper = upper;\n    }\n\n    toString(): string {\n        return this.upper === Number.MAX_SAFE_INTEGER\n            ? `${this.lower}..*`\n            : `${this.lower}..${this.upper}`;\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitCardinality(this, ...data);\n    }\n}\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n//..5...10...15...20...25...30...35...40...45...50...55...60...65...70...75...80...85...90...95..100\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\n/** \n *  defaultValue\n *  lower  upper  decimal, integer, string, markdown\n *      NumberBoundType ( Type)\n *  lower  upper  date, dateTime DateBoundType ( Type)\n *  time, base64Binary Type\n *  displayT  displayF  boolean Type\n *  option  attach  code Type\n */\nexport abstract class Type implements Visitee {\n\n    /** [] \n     *  subclass name \n     */\n    name: string;\n\n    /**\n     * @param name \n     *              subclass name \n     */\n    constructor(name: string) {\n        this.name = name;\n    }\n\n    abstract accept(visitor: Visitor, ...data: any[]): any;\n}\n\n/**  lower  upper \n *  decimal, integer, string, markdown\n */\nexport abstract class NumberBoundType extends Type {\n\n    /**  NumberBoundType  ()\n     * null \n     */\n    lower: number | null;\n\n    /**  NumberBoundType  ()\n     * null \n     */\n    upper: number | null;\n\n    /**\n     * @param lower  NumberBoundType  ()\n     *              null \n     * @param upper  NumberBoundType  ()\n     *              null \n     * @param name \n     *              subclass name \n     */\n    constructor(lower: number | null,\n        upper: number | null,\n        name: string) {\n        super(name);\n        this.lower = lower;\n        this.upper = upper;\n    }\n\n    /**\n     *  StructMD-IR Toolkit  IRspec \n     *  lower/upper/default undefined\n     *  AST  null\n     * deUndefined()  undefined  null\n     */\n    static deUndefined(target0: object): [number | null,\n        number | null,\n        number | string | null] {\n        let target = <{\n            lower?: number,\n            upper?: number,\n            default?: number | string\n        }>target0;\n\n        let lower: number | null = target.lower !== undefined\n            ? target.lower\n            : null;\n        let upper: number | null = target.upper !== undefined\n            ? target.upper\n            : null;\n        let defaultValue: number | string | null = target.default !== undefined\n            ? target.default\n            : null;\n        return [lower, upper, defaultValue];\n    }\n}\n\n/** decimal \n *  number  lower  upper decimal () ()\n *  lower=1.2, upper=3.4  x  1.2 <= x < 3.4\n *  DecimalType  Static Factory Marthod Design Pattern\n *  public  create() constructor()  private\n */\nexport class DecimalType extends NumberBoundType {\n\n    /**  decimal\n     */\n    static noArg: DecimalType = new DecimalType(null, null, null);\n\n    /** [] \n     * null \n     */\n    defaultValue: number | null;\n\n    /**  StructMD-IRspec Compiler \n     * @param lower  DecimalType  ()\n     *              null \n     * @param upper  DecimalType  ()\n     *              null \n     * @param defaultValue  DecimalType \n     *                     null \n     */\n    static create(lower: number | null,\n        upper: number | null,\n        defaultValue: number | null): DecimalType;\n\n    /**  StructMD-IR Toolkit \n     * @param target  decimal  LeafNode \n     */\n    static create(target: object): DecimalType;\n\n    static create(p1: number | null | object,\n        p2?: number | null,\n        p3?: number | null): DecimalType {\n        if (typeof p1 === \"number\" || p1 === null) {\n            //  StructMD-IRspec Compiler \n            const lower = p1 as number || null;\n            const upper = p2 ?? null;\n            const defaultValue = p3 ?? null;\n            return (lower === null && upper === null && defaultValue === null)\n                ? DecimalType.noArg\n                : new DecimalType(lower, upper, defaultValue);\n            // return (p1 === null && p2 === null && p3 === null)\n            //      ? DecimalType.noArg\n            //      : new DecimalType(p1, <number | null>p2, <number | null>p3);\n\n        } else {\n            //  StructMD-IR Toolkit \n            let [lower, upper, defaultValue]: [number | null, number | null, number | string | null]\n                = NumberBoundType.deUndefined(p1);\n\n            return (lower === null && upper === null && defaultValue === null)\n                ? DecimalType.noArg\n                : new DecimalType(lower, upper, <number | null>defaultValue);\n        }\n    }\n\n    /**\n     * @param lower  DecimalType  ()\n     *              null \n     * @param upper  DecimalType  ()\n     *              null \n     * @param defaultValue  DecimalType \n     *                     null \n     */\n    private constructor(lower: number | null,\n        upper: number | null,\n        defaultValue: number | null) {\n        super(lower, upper, \"decimal\");\n\n        this.defaultValue = defaultValue;\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitDecimalType(this, ...data);\n    }\n}\n\n/** integer \n *  lower  upper integer () ()\n *  lower=-1, upper=3  -1, 0, 1, 2\n *  IntegerType  Static Factory Marthod Design Pattern\n *  public  create() constructor()  private\n */\nexport class IntegerType extends NumberBoundType {\n\n    /**  integer\n     */\n    static noArg: IntegerType = new IntegerType(null, null, null);\n\n    /** [] \n     * \n     * null \n     */\n    defaultValue: number | null;\n\n    /**  StructMD-IRspec Compiler \n     * @param lower  IntegerType  ()\n     *              null \n     * @param upper  IntegerType  ()\n     *              null \n     * @param defaultValue  IntegerType \n     *                     null \n     */\n    static create(lower: number | null,\n        upper: number | null,\n        defaultValue: number | null): IntegerType;\n\n    /**  StructMD-IR Toolkit \n     * @param target  integer  LeafNode \n     */\n    static create(target: object): IntegerType;\n\n    static create(p1: number | null | object,\n        p2?: number | null,\n        p3?: number | null): IntegerType {\n        if (typeof p1 === \"number\" || p1 === null) {\n            //  StructMD-IRspec Compiler \n\n            const lower = p1 as number || null;\n            const upper = p2 ?? null;\n            const defaultValue = p3 ?? null;\n            return (lower === null && upper === null && defaultValue === null)\n                ? IntegerType.noArg\n                : new IntegerType(lower, upper, defaultValue);\n\n        } else {\n            //  StructMD-IR Toolkit \n            let [lower, upper, defaultValue]: [number | null, number | null, number | string | null]\n                = NumberBoundType.deUndefined(p1);\n\n            return (lower === null && upper === null && defaultValue === null)\n                ? IntegerType.noArg\n                : new IntegerType(lower, upper, <number | null>defaultValue);\n        }\n    }\n\n    /**\n     * @param lower  IntegerType  ()\n     *              null \n     * @param upper  IntegerType  ()\n     *              null \n     * @param defaultValue  IntegerType \n     *                     null \n     */\n    private constructor(lower: number | null,\n        upper: number | null,\n        defaultValue: number | null) {\n        super(lower, upper, \"integer\");\n\n        this.defaultValue = defaultValue;\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitIntegerType(this, ...data);\n    }\n}\n\n/** string \n *  lower  upper string () ()\n *  lower=0, upper=3  0, 1, 2\n *  StringType  Static Factory Marthod Design Pattern\n *  public  create() constructor()  private\n */\nexport class StringType extends NumberBoundType {\n\n    /**  string\n     */\n    static noArg: StringType = new StringType(null, null, null);\n\n    /** [] \n     * null \n     */\n    defaultValue: string | null;\n\n    /**  StructMD-IRspec Compiler \n     * @param lower  StringType  ()\n     *              null \n     * @param upper  StringType  ()\n     *              null \n     * @param defaultValue  StringType \n     *                     null \n     */\n    static create(lower: number | null,\n        upper: number | null,\n        defaultValue: string | null): StringType;\n\n    /**  StructMD-IR Toolkit \n     * @param target  string  LeafNode \n     */\n    static create(target: object): StringType;\n\n    static create(p1: number | null | object,\n        p2?: number | null,\n        p3?: string | null): StringType {\n        if (typeof p1 === \"number\" || p1 === null) {\n            //  StructMD-IRspec Compiler \n\n            const lower = p1 as number || null;\n            const upper = p2 ?? null;\n            const defaultValue = p3 ?? null;\n            return (lower === null && upper === null && defaultValue === null)\n                ? StringType.noArg\n                : new StringType(lower, upper, defaultValue);\n\n        } else {\n            //  StructMD-IR Toolkit \n            let [lower, upper, defaultValue]: [number | null, number | null, number | string | null]\n                = NumberBoundType.deUndefined(p1);\n\n            return (lower === null && upper === null && defaultValue === null)\n                ? StringType.noArg\n                : new StringType(lower, upper, <string | null>defaultValue);\n        }\n    }\n\n    /**\n     * @param lower  StringType  ()\n     *              null \n     * @param upper  StringType  ()\n     *              null \n     * @param defaultValue  StringType \n     *                     null \n     */\n    private constructor(lower: number | null,\n        upper: number | null,\n        defaultValue: string | null) {\n        super(lower, upper, \"string\");\n\n        this.defaultValue = defaultValue;\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitStringType(this, ...data);\n    }\n}\n\n/** markdown \n *  lower  upper markdown () ()\n *  lower=10, upper=13  10, 11, 12\n *  MarkdownType  Static Factory Marthod Design Pattern\n *  public  create() constructor()  private\n */\nexport class MarkdownType extends NumberBoundType {\n\n    /**  markdown\n     */\n    static noArg: MarkdownType = new MarkdownType(null, null, null);\n\n    /** [] \n     * null \n     */\n    defaultValue: string | null;\n\n    /**  StructMD-IRspec Compiler \n     * @param lower  MarkdownType  ()\n     *              null \n     * @param upper  MarkdownType  ()\n     *              null \n     * @param defaultValue  MarkdownType \n     *                     null \n     */\n    static create(lower: number | null,\n        upper: number | null,\n        defaultValue: string | null): MarkdownType;\n\n    /**  StructMD-IR Toolkit \n     * @param target  markdown  LeafNode \n     */\n    static create(target: object): MarkdownType;\n\n    static create(p1: number | null | object,\n        p2?: number | null,\n        p3?: string | null): MarkdownType {\n        if (typeof p1 === \"number\" || p1 === null) {\n            //  StructMD-IRspec Compiler \n\n            const lower = p1 as number || null;\n            const upper = p2 ?? null;\n            const defaultValue = p3 ?? null;\n            return (lower === null && upper === null && defaultValue === null)\n                ? MarkdownType.noArg\n                : new MarkdownType(lower, upper, defaultValue);\n\n        } else {\n            //  StructMD-IR Toolkit \n            let [lower, upper, defaultValue]: [number | null, number | null, number | string | null]\n                = NumberBoundType.deUndefined(p1);\n\n            return (lower === null && upper === null && defaultValue === null)\n                ? MarkdownType.noArg\n                : new MarkdownType(lower, upper, <string | null>defaultValue);\n        }\n    }\n\n    /**\n     * @param lower  MarkdownType  ()\n     *              null \n     * @param upper  MarkdownType  ()\n     *              null \n     * @param defaultValue  MarkdownType \n     *                     null \n     */\n    private constructor(lower: number | null,\n        upper: number | null,\n        defaultValue: string | null) {\n        super(lower, upper, \"markdown\");\n\n        this.defaultValue = defaultValue;\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitMarkdownType(this, ...data);\n    }\n}\n\n/**  lower  upper \n *  date, dateTime\n */\nexport abstract class DateBoundType extends Type {\n\n    /**  DateBoundType  ()\n     * Moment \n     * null \n     */\n    lower: Moment | null;\n\n    /**  DateBoundType  ()\n     * Moment \n     * null \n     */\n    upper: Moment | null;\n\n    /**\n     * @param lower  DateBoundType  ()\n     *              Moment \n     *              null \n     * @param upper  DateBoundType  ()\n     *              Moment \n     *              null \n     * @param name \n     *              subclass name \n     */\n    constructor(lower: Moment | null,\n        upper: Moment | null,\n        name: string) {\n        super(name);\n        this.lower = lower;\n        this.upper = upper;\n    }\n\n    static deUndefined(target0: object): [\n        DatePrecision,                                                  // v2.2 \n        Moment | null,\n        Moment | null,\n        string | null] {\n        let target = <{\n            mustHave?: DatePrecision,                                   // v2.2 \n            lower?: string,\n            upper?: string,\n            default?: string\n        }>target0;\n\n        let mustHave: DatePrecision = target.mustHave === undefined     // v2.2 \n            ? DatePrecision.Y                   // v2.2 \n            : target.mustHave;                  // v2.2 \n        let lower: Moment | null = target.lower === undefined\n            ? null\n            : moment(target.lower);\n        let upper: Moment | null = target.upper === undefined\n            ? null\n            : moment(target.upper);\n        let defaultValue: string | null = target.default === undefined\n            ? null\n            : target.default;\n        return [mustHave, lower, upper, defaultValue];                  // v2.2 \n    }\n}\n\n/** DateType  DateTimeTime \n * @see VisitorFormIO.visitDateTimeType\n */\nexport enum DatePrecision {                                             // v2.2 \n    \"Y\",\n    \"YM\",\n    \"YMD\",\n    \"YMDT\"\n}\n\n/** date \n *  lower  upper date () ()\n *  lower=\"2024-01-01\", upper=\"2024-02-01\"  2024-01-01  2024-01-31\n *  DateType  Static Factory Marthod Design Pattern\n *  public  create() constructor()  private\n */\nexport class DateType extends DateBoundType {\n\n    /**  dateTime mustHave = Y\n     */\n    static noArgY: DateType = new DateType(DatePrecision.Y, null, null, null);\n\n    /**  dateTime mustHave = YM\n     */\n    static noArgYM: DateType = new DateType(DatePrecision.YM, null, null, null);\n\n    /**  dateTime mustHave = YMD\n     */\n    static noArgYMD: DateType = new DateType(DatePrecision.YMD, null, null, null);\n\n    //  v2.2  v2.1  mustHave = Y ()\n\n    /**  date\n     */\n    static noArg: DateType = DateType.noArgY;\n\n    /**  DateType \n     *      | IRspec    |          IR                 |\n     *      |-----------|----------|------------------|\n     *      | mustHave  | date     | datetime         |\n     *      |-----------|----------|------------------|\n     *      | \"Y\"       | YMD YM Y | YMDhmsZ YMD YM Y |\n     *      | \"YM\"      | YMD YM   | YMDhmsZ YMD YM   |\n     *      | \"YMD\"     | YMD      | YMDhmsZ YMD      |\n     *      | \"YMDT\"    |          | YMDhmsZ          |\n     *      | undefined | YMD YM Y | YMDhmsZ YMD YM Y | ( v2.1)\n     * @see VisitorFormIO.visitDateTimeType\n     */\n    mustHave: DatePrecision;                                            // v2.2 \n\n    /** [] \n     *  YYYY-MM-DD  YYYY-MM  YYYY \n     *  \"now\" \n     * null \n     */\n    defaultValue: string | null;\n\n    /**  StructMD-IRspec Compiler \n     * @param mustHave  DateType \n     * @param lower  DateType  ()\n     *              Moment \n     *              null \n     * @param upper  DateType  ()\n     *              Moment \n     *              null \n     * @param defaultValue  DateType \n     *                      YYYY-MM-DD  YYYY-MM  YYYY \n     *                      \"now\" \n     *                     null \n     */\n    static create(mustHave: DatePrecision,                              // v2.2 \n        lower: Moment | null,\n        upper: Moment | null,\n        defaultValue: string | null): DateType;\n\n    /**  StructMD-IR Toolkit \n     * @param target  date  LeafNode \n     */\n    static create(target: object): DateType;\n\n    static create(p1: DatePrecision | object,                  // v2.2 \n        p2?: Moment | null,\n        p3?: Moment | null,\n        p4?: string | null): DateType {\n        let mustHave: DatePrecision;\n        let lower: Moment | null;\n        let upper: Moment | null;\n        let defaultValue: string | null;\n\n        if (typeof p1 === \"number\") {  // enum  number \n            //  StructMD-IRspec Compiler \n            mustHave = p1;\n            lower = <Moment | null>p2;\n            upper = <Moment | null>p3;\n            defaultValue = <string | null>p4;\n\n        } else {\n            //  StructMD-IR Toolkit \n            [mustHave, lower, upper, defaultValue] = DateBoundType.deUndefined(p1);\n        }\n\n        if (lower !== null || upper !== null || defaultValue !== null) {\n            return new DateType(mustHave, lower, upper, defaultValue);\n\n        } else {\n            return mustHave === DatePrecision.Y ? DateType.noArgY\n                : mustHave === DatePrecision.YM ? DateType.noArgYM\n                    : DateType.noArgYMD\n                ;\n        }\n    }\n\n    /**\n     * @param mustHave  DateType \n     * @param lower  DateType  ()\n     *              Moment \n     *              null \n     * @param upper  DateType  ()\n     *              Moment \n     *              null \n     * @param defaultValue  DateType \n     *                      YYYY-MM-DD  YYYY-MM  YYYY \n     *                      \"now\" \n     *                     null \n     */\n    private constructor(mustHave: DatePrecision,    // v2.2 \n        lower: Moment | null,\n        upper: Moment | null,\n        defaultValue: string | null) {\n        super(lower, upper, \"date\");\n\n        this.mustHave = mustHave;                   // v2.2 \n        this.defaultValue = defaultValue;\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitDateType(this, ...data);\n    }\n}\n\n/** dateTime \n *  lower  upper dateTime () ()\n *  lower=\"2024-01-01\", upper=\"2024-02-01\"  2024-01-01T00:00:00  2024-01-31T23:59:59\n *  DateTimeType  Static Factory Marthod Design Pattern\n *  public  create() constructor()  private\n */\nexport class DateTimeType extends DateBoundType {\n\n    /**  dateTime mustHave = Y\n     */\n    static noArgY: DateTimeType = new DateTimeType(DatePrecision.Y, null, null, null);\n\n    /**  dateTime mustHave = YM\n     */\n    static noArgYM: DateTimeType = new DateTimeType(DatePrecision.YM, null, null, null);\n\n    /**  dateTime mustHave = YMD\n     */\n    static noArgYMD: DateTimeType = new DateTimeType(DatePrecision.YMD, null, null, null);\n\n    /**  dateTime mustHave = YMDT\n     */\n    static noArgYMDT: DateTimeType = new DateTimeType(DatePrecision.YMDT, null, null, null);\n\n    //  v2.2  v2.1  mustHave = Y ()\n\n    /**  dateTime\n     */\n    static noArg: DateTimeType = DateTimeType.noArgY;\n\n    /**  DateTimeType \n     *      | IRspec    |          IR                 |\n     *      |-----------|----------|------------------|\n     *      | mustHave  | date     | datetime         |\n     *      |-----------|----------|------------------|\n     *      | \"Y\"       | YMD YM Y | YMDhmsZ YMD YM Y |\n     *      | \"YM\"      | YMD YM   | YMDhmsZ YMD YM   |\n     *      | \"YMD\"     | YMD      | YMDhmsZ YMD      |\n     *      | \"YMDT\"    |          | YMDhmsZ          |\n     *      | undefined | YMD YM Y | YMDhmsZ YMD YM Y | ( v2.1)\n     * @see VisitorFormIO.visitDateTimeType                             \n     */\n    mustHave: DatePrecision;                                            // v2.2 \n\n    /** [] \n     *  YYYY-MM-DDThh:mm:ss+zz:zz  YYYY-MM-DD  YYYY-MM  YYYY \n     *  \"now\" \n     * null \n     */\n    defaultValue: string | null;\n\n    /**  StructMD-IRspec Compiler \n     * @param mustHave  DateTimeType \n     * @param lower  DateTimeType  ()\n     *              Moment \n     *              null \n     * @param upper  DateTimeType  ()\n     *              Moment \n     *              null \n     * @param defaultValue  DateTimeType \n     *                      YYYY-MM-DDThh:mm:ss+zz:zz  YYYY-MM-DD  YYYY-MM  YYYY \n     *                     \n     *                      \"now\" \n     *                     null \n     */\n    static create(mustHave: DatePrecision,                              // v2.2 \n        lower: Moment | null,\n        upper: Moment | null,\n        defaultValue: string | null): DateTimeType;\n\n    /**  StructMD-IR Toolkit \n     * @param target  dateTime  LeafNode \n     */\n    static create(target: object): DateTimeType;\n\n    static create(p1: DatePrecision | object,                  // v2.2 \n        p2?: Moment | null,\n        p3?: Moment | null,\n        p4?: string | null): DateTimeType {\n        let mustHave: DatePrecision;\n        let lower: Moment | null;\n        let upper: Moment | null;\n        let defaultValue: string | null;\n\n        if (typeof p1 === \"number\") {  // enum  number \n            //  StructMD-IRspec Compiler \n            mustHave = p1;\n            lower = <Moment | null>p2;\n            upper = <Moment | null>p3;\n            defaultValue = <string | null>p4;\n\n        } else {\n            //  StructMD-IR Toolkit \n            [mustHave, lower, upper, defaultValue] = DateBoundType.deUndefined(p1);\n        }\n\n        if (lower !== null || upper !== null || defaultValue !== null) {\n            return new DateTimeType(mustHave, lower, upper, defaultValue);\n\n        } else {\n            return mustHave === DatePrecision.Y ? DateTimeType.noArgY\n                : mustHave === DatePrecision.YM ? DateTimeType.noArgYM\n                    : mustHave === DatePrecision.YMD ? DateTimeType.noArgYMD\n                        : DateTimeType.noArgYMDT\n                ;\n        }\n    }\n\n    /**\n     * @param mustHave  DateTimeType \n     * @param lower  DateTimeType  ()\n     *              Moment \n     *              null \n     * @param upper  DateTimeType  ()\n     *              Moment \n     *              null \n     * @param defaultValue  DateTimeType \n     *                      YYYY-MM-DDThh:mm:ss+zz:zz  YYYY-MM-DD  YYYY-MM  YYYY \n     *                     \n     *                      \"now\" \n     *                     null \n     */\n    private constructor(mustHave: DatePrecision,    // v2.2 \n        lower: Moment | null,\n        upper: Moment | null,\n        defaultValue: string | null) {\n        super(lower, upper, \"dateTime\");\n\n        this.mustHave = mustHave;                   // v2.2 \n        this.defaultValue = defaultValue;\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitDateTimeType(this, ...data);\n    }\n}\n\n/** time \n *  DateType  Static Factory Marthod Design Pattern\n *  public  create() constructor()  private\n */\nexport class TimeType extends Type {\n\n    /**  time\n     */\n    static noArg: TimeType = new TimeType(null);\n\n    /** [] \n     *  hh:mm:ss  \"now\" \n     * null \n     */\n    defaultValue: string | null;\n\n    /**  StructMD-IRspec Compiler \n     * @param defaultValue  TimeType \n     *                      hh:mm:ss  \"now\" \n     *                     null \n     */\n    static create(defaultValue: string | null): TimeType;\n\n    /**  StructMD-IR Toolkit \n     * @param target  time  LeafNode \n     */\n    static create(target: object): TimeType;\n\n    static create(p1: string | null | object): TimeType {\n        if (typeof p1 === \"string\" || p1 === null) {\n            //  StructMD-IRspec Compiler \n\n            const defaultValue = p1 as string || null;\n\n            return (defaultValue === null)\n                ? TimeType.noArg\n                : new TimeType(defaultValue);\n\n        } else {\n            //  StructMD-IR Toolkit \n            let target = <{\n                default?: string  //  undefined\n            }>p1;\n\n            let defaultValue: string | null = target.default !== undefined\n                ? target.default\n                : null;\n\n            return (defaultValue === null)\n                ? TimeType.noArg\n                : new TimeType(defaultValue);\n        }\n    }\n\n    /**\n     * @param defaultValue  TimeType \n     *                      hh:mm:ss  \"now\" \n     *                     null \n     */\n    private constructor(defaultValue: string | null) {\n        super(\"time\");\n\n        this.defaultValue = defaultValue;\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitTimeType(this, ...data);\n    }\n}\n\n/** base64Binary \n *  Base64BinaryType  Static Factory Marthod Design Pattern\n *  public  create() constructor()  private\n */\nexport class Base64BinaryType extends Type {\n\n    /**  base64Binary\n     */\n    static noArg: Base64BinaryType = new Base64BinaryType(null);\n\n    /** [] \n     * null \n     */\n    defaultValue: string | null;\n\n    /**  StructMD-IRspec Compiler \n     * @param defaultValue  Base64BinaryType \n     *                     null \n     */\n    static create(defaultValue: string | null): Base64BinaryType;\n\n    /**  StructMD-IR Toolkit \n     * @param target  base64Binary  LeafNode \n     */\n    static create(target: object): Base64BinaryType;\n\n    static create(p1: string | null | object): Base64BinaryType {\n        if (typeof p1 === \"string\" || p1 === null) {\n            //  StructMD-IRspec Compiler \n            const defaultValue = p1 as string || null;\n            return (defaultValue === null)\n                ? Base64BinaryType.noArg\n                : new Base64BinaryType(defaultValue);\n\n        } else {\n            //  StructMD-IR Toolkit \n            let target = <{\n                default?: string  //  undefined\n            }>p1;\n\n            let defaultValue: string | null = target.default !== undefined\n                ? target.default\n                : null;\n\n            return (defaultValue === null)\n                ? Base64BinaryType.noArg\n                : new Base64BinaryType(defaultValue);\n        }\n    }\n\n    /**\n     * @param defaultValue  Base64BinaryType \n     *                     null \n     */\n    private constructor(defaultValue: string | null) {\n        super(\"base64Binary\");\n\n        this.defaultValue = defaultValue;\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitBase64BinaryType(this, ...data);\n    }\n}\n\n/** boolean \n *  BooleanType  Static Factory Marthod Design Pattern\n *  public  create() constructor()  private\n */\nexport class BooleanType extends Type {\n\n    /**  boolean\n     */\n    static noArg: BooleanType = new BooleanType(null, null, null);\n\n    /** []  StructMD-IR \n     * null  true\n     */\n    displayTrue: string | null;\n\n    /** []  StructMD-IR \n     * null  false\n     */\n    displayFalse: string | null;\n\n    /** [] \n     * null \n     */\n    defaultValue: boolean | null;\n\n    /**  StructMD-IRspec Compiler \n     * @param displayTrue   StructMD-IR \n     *                     null  true;\n     * @param displayFalse  StructMD-IR \n     *                     null  false\n     * @param defaultValue  BooleanType \n     *                     null \n     */\n    static create(displayTrue: string | null,\n        displayFalse: string | null,\n        defaultValue: boolean | null): BooleanType;\n\n    /**  StructMD-IR Toolkit \n     * @param target  boolean  LeafNode \n     */\n    static create(target: object): BooleanType;\n\n    static create(p1: string | null | object,\n        p2?: string | null,\n        p3?: boolean | null): BooleanType {\n        if (typeof p1 === \"string\" || p1 === null) {\n            //  StructMD-IRspec Compiler \n            const displayTrue =p1 as \"string\" || null;\n            return (p1 === null && p2 === null && p3 === null)\n                ? BooleanType.noArg\n                : new BooleanType(displayTrue, <string | null>p2, <boolean | null>p3);\n\n        } else {\n            //  StructMD-IR Toolkit \n            let target = <{\n                displayT?: string,  //  undefined\n                displayF?: string,  //  undefined\n                default?: boolean   //  undefined\n            }>p1;\n\n            let displayT: string | null = target.displayT !== undefined\n                ? target.displayT\n                : null;\n            let displayF: string | null = target.displayF !== undefined\n                ? target.displayF\n                : null;\n            let defaultValue: boolean | null = target.default !== undefined\n                ? target.default\n                : null;\n\n            return (displayT === null && displayF === null && defaultValue === null)\n                ? BooleanType.noArg\n                : new BooleanType(displayT, displayF, defaultValue);\n        }\n    }\n\n    /**\n     * @param displayTrue   StructMD-IR \n     *                     null  true;\n     * @param displayFalse  StructMD-IR \n     *                     null  false\n     * @param defaultValue  BooleanType \n     *                     null \n     */\n    private constructor(displayTrue: string | null,\n        displayFalse: string | null,\n        defaultValue: boolean | null) {\n        super(\"boolean\");\n\n        this.displayTrue = displayTrue;\n        this.displayFalse = displayFalse;\n        this.defaultValue = defaultValue;\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitBooleanType(this, ...data);\n    }\n}\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n//..5...10...15...20...25...30...35...40...45...50...55...60...65...70...75...80...85...90...95..100\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\n/*  # CodeType \n    ## \n         CodeType  Node1 Node1 \n         ofSpec  MacroMap\n    ## \n        Object Level                     down link      up link\n        \n        (Leaf)Node or (Leaf)Attachment   type          \n          CodeType                       options        ???\n            Option                       attachment     ofCodeType\n              (NonLeaf)Attachment        children       subject\n                Node1                                   parent\n    ## CodeType  up link\n        -    LeafNodeNode1  ofSpec\n        -    LeafAttachment Attachment --> Option --> CodeType --> ... \n    ## \n         CodeType  ofSpec Node1  up link  ofSpec\n */\n\n/** code \n */\nexport class CodeType extends Type {\n\n    /** []  StructMD-IRspec\n     *     IRspec  LeafNode  CodeType\n     *      LeafNode  CodeType\n     *     IRspec  NonLeafAttachment  LeafNode  CodeType\n     *      NonLeafAttachment  LeafNode  CodeType\n     *  null StructMD-IRspec\n     *      LeafNode  CodeType\n     *      NonLeafAttachment  LeafNode  CodeType\n     *  (undefined)\n     */\n    ofSpec?: IRspec | null;\n\n    // //  ofNode  CodeType\n    // //  9  static noArg static  ofNode \n    // /** []  CodeType  LeafNodeLeafMacroLeafAttachment\n    //  *  LeafNode.type  CodeType  double-link\n    //  *  (undefined)\n    //  */\n    // ofNode?: LeafNode | LeafMacro | LeafAttachment;\n\n    /**  CodeType \n     */\n    options: Option[];\n\n    /** [] \n     * null \n     */\n    defaults: Option[] | null;\n\n    /**  StructMD-IRspec Compiler \n     * @param options  CodeType  attachment Option \n     * @param defaults  CodeType \n     *                 null \n     */\n    constructor(options: Option[],\n        defaults: Option[] | null);\n\n    /**  StructMD-IR Toolkit \n     * @param target  code  LeafNode  option  attach \n     * @param ofSpec  CodeType  StructMD-IRspec null\n     */\n    constructor(target: object,\n        ofSpec: IRspec | null);\n\n    constructor(p1: Option[] | object,\n        p2?: Option[] | null | IRspec | null) {\n        super(\"code\");\n\n        if (Array.isArray(p1) && p1[0] instanceof Option) {\n            //  StructMD-IRspec Compiler \n            this.ofSpec = undefined;\n            this.options = p1;\n            this.defaults = <Option[] | null>p2;\n\n        } else {\n            //  StructMD-IR Toolkit \n            let target = <{\n                option: [],\n                attach?: [],  //  undefined\n                default?: []  //  undefined\n            }>p1;\n            let ofSpec = <IRspec | null>p2;\n            let attach: [] = target.attach !== undefined\n                ? target.attach\n                : [];\n\n            this.ofSpec = ofSpec;\n\n            this.options = [];\n            for (let elmt of target.option) {\n                this.options.push(new Option(this, elmt, attach));\n            }\n\n            if (target.default === undefined) {\n                this.defaults = null;\n\n            } else {\n                this.defaults = [];\n                for (let codeString of target.default) {\n                    this.defaults.push(<Option>this.getOption(codeString));\n                }\n            }\n        }\n    }\n\n    getAttachNames(prefix: string): string[] {\n        let result: string[] = [];\n\n        for (let option of this.options) {\n            if (option.attachment !== null) {\n                // let p: string = prefix + option.code;    v2.2 \n                let p: string = prefix + option.seqno;\n                result.push(p);\n\n                if (option.attachment instanceof LeafAttachment\n                    && option.attachment.type instanceof CodeType) {\n                    result.push(\n                        ...option.attachment.type.getAttachNames(p + Attachment.sep)\n                    );\n                }\n            }\n        }\n\n        return result;\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitCodeType(this, ...data);\n    }\n\n    //..10...15...20...25...30...35...40...45...50...55...60...65...70...75...80...85...90...95..100\n    //  CodeType  Option  Map \n\n    /** this.options  Map \n     *  lazy initialization \n     */\n    private optionMap: Map<string, Option> | undefined;\n\n    /**  CodeType  Option\n     * @param codeOrDisplay \n     */\n    getOption(codeOrDisplay: string): Option | undefined {\n        // lazy initialization\n        if (this.optionMap === undefined) {\n            this.optionMap = new Map<string, Option>();\n\n            for (let option of this.options) {\n                // compiler  Option  code  display \n                //  Option  code  display \n                this.optionMap.set(option.code, option);\n                if (option.display !== option.code) {\n                    this.optionMap.set(option.display, option);\n                }\n            }\n        }\n\n        return this.optionMap.get(codeOrDisplay);\n    }\n}\n\n/** CodeType \n */\nexport class Option implements Visitee {\n\n    /** []  Option  CodeType\n     *  CodeType.options  double-link\n     *  (undefined)\n     */\n    ofCodeType?: CodeType;\n\n    /**  Option \n     */\n    code: string;\n\n    /**  Option \n     */\n    display: string;\n\n    /**  Option  CodeType  options  0 \n     * v2.2 \n     */\n    seqno: number;\n\n    /** [/]  Option  SNOMED-CT \n     * null  SNOMED-CT\n     */\n    snomeds: number[] | null;\n\n    /**  Option \n     * null \n     */\n    attachment: Attachment | null;\n\n    /**  StructMD-IRspec Compiler \n     * @param code  Option \n     * @param display  Option \n     * @param seqno  Option  CodeType  options  0 \n     * @param snomeds  Option  SNOMED-CT \n     * @param attachment  Option  null\n     */\n    constructor(code: string,\n        display: string,\n        seqno: number,  // v2.2 \n        snomeds: number[] | null,\n        attachment: Attachment | null);\n\n    /**  StructMD-IR Toolkit \n     * @param ofCodeType  Option  CodeType\n     * @param optionTarget  option \n     *                     \n     *                      code  display  snomed \n     *                      display display  code\n     * @param attachArray  attach  attachment\n     */\n    constructor(ofCodeType: CodeType,\n        optionTarget: string | object,\n        attachArray: []);\n\n    constructor(p1: string | CodeType,\n        p2: string | string | object,\n        p3: number | [],            // v2.2  seqno \n        p4?: number[] | null,       // v2.2  seqno \n        p5?: Attachment | null)     // v2.2  seqno \n    {\n        if (typeof p1 === \"string\") {\n            //  StructMD-IRspec Compiler \n            this.ofCodeType = undefined;\n            this.code = p1;\n            this.display = <string>p2;\n            this.seqno = <number>p3;                    // v2.2 \n            this.snomeds = <number[] | null>p4;         // v2.2  seqno \n            this.attachment = <Attachment | null>p5;    // v2.2  seqno \n\n        } else {\n            //  StructMD-IR Toolkit \n            let ofCodeType = p1;\n            // let optionTarget = <string | object>p2;  // v2.2 \n            let optionTarget = <{                       // v2.2 \n                code: string,                           // v2.2 \n                display?: string,                       // v2.2 \n                seqno: number,                          // v2.2 \n                snomed?: number[]                       // v2.2 \n            }>p2;                                       // v2.2 \n            let attachArray = <[]>p3;\n\n            this.ofCodeType = ofCodeType;\n\n            //  option\n\n            // if (typeof optionTarget === \"string\") {\n            //     // \n            //     this.code = optionTarget;\n            //     this.display = optionTarget;\n            //     this.snomeds = null;\n            // } else {\n            //     // \n            //     let optionTaregt2 = <{\n            //         code: string,\n            //         display?: string,\n            //         snomed?: number[]\n            //     }>optionTarget;\n            //     this.code = optionTaregt2.code;\n            //     this.display = (optionTaregt2.display !== undefined)\n            //                  ? optionTaregt2.display\n            //                  : optionTaregt2.code;\n            //     this.snomeds = (optionTaregt2.snomed !== undefined)\n            //                  ? optionTaregt2.snomed\n            //                  : null;\n            // }\n            //  v2.1 \n            this.code = optionTarget.code;\n            this.display = (optionTarget.display !== undefined)\n                ? optionTarget.display\n                : optionTarget.code;\n            this.seqno = optionTarget.seqno;\n            this.snomeds = (optionTarget.snomed !== undefined)\n                ? optionTarget.snomed\n                : null;\n\n            //  attachment\n\n            //  attachArray  attachment\n            let attachTarget: object | null = null;  // \n            for (let elmt of attachArray) {      //  attachArray \n                let x = <{\n                    subject: string\n                }>elmt;\n\n                if (x.subject === this.code || x.subject === this.display) {\n                    attachTarget = elmt;\n                    break;\n                }\n            }\n\n            if (attachTarget !== null) {\n                // lookahead \n                this.attachment = (Object.keys(attachTarget).includes(\"child\"))\n                    ? new NonLeafAttachment(this, attachTarget)\n                    : new LeafAttachment(this, attachTarget);\n\n            } else {\n                this.attachment = null;\n            }\n        }\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitOption(this, ...data);\n    }\n}\n\n/*  # Attachment  Node1\n *  ##  Node1  Condition \n *      -   StructMD-IRspec\n *              \"child\": [\n *                  {\n *                      \"name\": \"\",\n *                      \"type\": \"code\",\n *                      \"option\": [\"\", \"\", \"\", \"\"]\n *                  },\n *                  {\n *                     \"name\": \"\",\n *                      \"cond\": {\n *                          \"subject\": \"\",\n *                          \"operator\": \"has\",\n *                          \"value\": \"\"\n *                      },\n *                      \"card\": \"1..*\",\n *                      \"type\": \"string\"\n *                  },\n *                  {\n *                     \"name\": \"\",\n *                      \"cond\": {\n *                          \"subject\": \"\",\n *                          \"operator\": \"has\",\n *                          \"value\": \"\"\n *                      },\n *                      \"card\": \"1..*\",\n *                      \"type\": \"string\"\n *                  }\n *              ]\n *      -   StructMD-IR\n *              {\n *                  \"\": [\"\", \"\"],\n *                  \"\": [\"\", \"\"]\n *              }\n *  ##  Attachment \n *      -   StructMD-IRspec\n *              \"child\": [\n *                  {\n *                      \"name\": \"\",\n *                      \"type\": \"code\",\n *                      \"option\": [\"\", \"\", \"\", \"\"],\n *                      \"attach\": [\n *                          {\n *                              \"subject\": \"\",\n *                              \"card\": \"1..*\",\n *                              \"type\": \"string\"\n *                          },\n *                          {\n *                              \"subject\": \"\",\n *                              \"card\": \"1..*\",\n *                              \"type\": \"string\"\n *                          }\n *                      ]\n *                  }\n *              ]\n *      -   StructMD-IR\n *              {\n *                  \"\": [\"\", \"\"],\n *                  \">>\": [\"\", \"\"]\n *              }\n */\n\n/** CodeType  Option \n *  LeafAttachment ( LeafNode)\n *      NonLeafAttachment ( NonLeafNode)\n *  Attachment \n */\nexport abstract class Attachment implements Visitee {\n\n    /** \n     * IRspec Option  Attachment  IR \n     * \n     *  mName  M  CodeType-LeafNode Option  code  A, B, C\n     *      M>>A, M>>B, M>>C\n     *  A  CodeType-LeafAttachment Option  code  D, E, F\n     *      M>>A>>D, M>>A>>E, M>>A>>F\n     *  D  CodeType-LeafAttachment Option  code  G, H, I\n     *      M>>A>>D>>G, M>>A>>D>>H, M>>A>>D>>I\n     * \n     * \n     *  Attchment\n     *  Attachment  Option  CodeType  LeafMacro \n     *  LeafNode  LeafMacro\n     *  LeafMacro  Attachment  mName M\n     * \n     *  >>  separator\n     * \n     * v2.1\n     * \n     * .10...15...20...25...30...35...40...45...50...55...60...65...70...75...80...85...90...95..100\n     * \n     *  Form.io \n     * \n     *  StructMD-IR Attachment  Option  code M>>A, M>>B  A, B\n     *  code  identfier ...\n     *  Form.io  Form.io \n     * \n     * v2.2  Option  seqno Option  CodeType  Option[]  0 \n     * \n     * clchen 2025-12-11 v2.2\n     */\n    static sep: string = \"_OpT_\";  //  Form.io  API propertyName  identifier\n    //  >> OpT   clchen 2025/05/35\n\n    /**  Attachment  Option\n     *  Option  Attachment \n     *  Option.attachment  double-link\n     */\n    subject: Option;\n\n    /**  Attachment \n     *  subject  Attachment \n     */\n    cardinality: Cardinality;\n\n    /**  StructMD-IR  0  Attachment \n     * cardinality  0displayAbsent \n     *  null\n     */\n    displayAbsent: string | null;\n\n    /** []  Attachment \n     *  form  tooltip\n     */\n    description: string | null;\n\n    /**  StructMD-IRspec Compiler \n     * @param subject  Attachment  Option\n     * @param cardinality  Attachment \n     * @param displayAbsent  StructMD-IR  0  Attachment \n     *                       null\n     * @param description  Attachment  null\n     */\n    constructor(subject: Option,\n        cardinality: Cardinality,\n        displayAbsent: string | null,\n        description: string | null);\n\n    /**  StructMD-IR Toolkit \n     * @param subject  Attachment  Option\n     * @param target \n     */\n    constructor(subject: Option,\n        target: object);\n\n    constructor(p1: Option,\n        p2: Cardinality | object,\n        p3?: string | null,\n        p4?: string | null) {\n        if (p2 instanceof Cardinality) {\n            //  StructMD-IRspec Compiler \n            this.subject = p1;\n            this.cardinality = p2;\n            this.displayAbsent = <string | null>p3;\n            this.description = <string | null>p4;\n\n        } else {\n            //  StructMD-IR Toolkit \n            let subject = p1;\n            let target = <{\n                // subject: string,     //  Option() \n                //  Option  this p1\n                card?: string,          //  undefined\n                display0?: string,      //  undefined\n                desc?: string           //  undefined\n            }>p2;\n\n            this.subject = subject;\n\n            this.cardinality = Cardinality.create(target.card);  // create()  undefined\n\n            this.displayAbsent = target.display0 !== undefined\n                ? target.display0\n                : null;\n\n            this.description = target.desc !== undefined\n                ? target.desc\n                : null;\n        }\n    }\n\n    abstract accept(visitor: Visitor, ...data: any[]): any;\n}\n\n/** CodeType  Option \n *  NonLeafNode\n */\nexport class NonLeafAttachment extends Attachment {\n\n    /**  NonLeafAttachment \n     *  NonLeafAttachment children  NonLeafMacro \n     *  Node[]\n     */\n    children: Node[];\n\n    /**  Visitor \n     *  attachment \n     *  ()\n     */\n    childNames: string[];\n\n    /**  NonLeafAttachment \n     *  children  NonLeafMacro  NonLeafMacro\n     *  IRspec  macro  sourceMacro\n     *  NonLeafNode  null\n     */\n    sourceMacro: NonLeafMacro | null;\n\n    /**  StructMD-IRspec Compiler \n     * @param subject  NonLeafAttachment  Option\n     * @param cardinality  NonLeafAttachment \n     * @param displayAbsent  StructMD-IR  0  NonLeafAttachment \n     *                       null\n     * @param description  NonLeafAttachment  null\n     * @param children  NonLeafAttachment \n     * @param sourceMacro  NonLeafAttachment  null\n     */\n    constructor(subject: Option,\n        cardinality: Cardinality,\n        displayAbsent: string | null,\n        description: string | null,\n        children: Node[],\n        sourceMacro: NonLeafMacro | null);\n\n    /**  StructMD-IR Toolkit \n     * @param subject  NonLeafAttachment  Option\n     * @param target \n     */\n    constructor(subject: Option,\n        target: object);\n\n    constructor(p1: Option,\n        p2: Cardinality | object,\n        p3?: string | null,\n        p4?: string | null,\n        p5?: Node[],\n        p6?: NonLeafMacro | null) {\n        if (p2 instanceof Cardinality) {\n            //  StructMD-IRspec Compiler \n            super(p1, <Cardinality>p2, <string | null>p3, <string | null>p4);\n\n            this.children = <Node[]>p5;\n            this.sourceMacro = <NonLeafMacro | null>p6;\n\n            this.childNames = [];\n\n        } else {\n            //  StructMD-IR Toolkit \n            let subject: Option = p1;\n            let target = <{\n                child: []      // \n                | string  // \n            }>p2;\n\n            super(subject, p2);\n\n            //  subject: Option  ofCodeType  CodeType\n            //  CodeType  ofSpec  IRspec  null ()\n            let ofCodeType: CodeType = <CodeType>subject.ofCodeType;\n            let ofSpec: IRspec | null = <IRspec | null>ofCodeType.ofSpec;\n\n            if (Array.isArray(target.child)) {\n                // \n                this.sourceMacro = null;\n\n                this.children = [];\n                this.childNames = [];\n                let nameSet: Set<string> = new Set<string>();\n                for (let i = 0; i < target.child.length; i++) {\n                    let elmt: any = target.child[i];\n\n                    // lookahead \n                    if (Object.keys(elmt).includes(\"displayC\")) {\n                        let node: CommentNode = new CommentNode(elmt, i);\n                        this.children.push(node);\n                        nameSet.add(<string>node.name);\n\n                    } else if (Object.keys(elmt).includes(\"child\")) {\n                        let node: NonLeafNode = new NonLeafNode(elmt, this, ofSpec);\n                        this.children.push(node);\n                        nameSet.add(node.name);\n                        nameSet.add(node.mName);\n\n                    } else {\n                        let node: LeafNode = new LeafNode(elmt, this, ofSpec);\n                        this.children.push(node);\n                        nameSet.add(node.name);\n                        nameSet.add(node.mName);\n\n                        if (node.type instanceof CodeType) {\n                            // let prefix: string = `${Attachment.prefix}_${node.mName}`;\n                            let prefix: string = node.mName + Attachment.sep;\n                            for (let n of node.type.getAttachNames(prefix)) {\n                                nameSet.add(n);\n                            }\n                        }\n                    }\n                }\n                this.childNames = Array.from(nameSet);\n\n            } else {\n                // \n                this.sourceMacro = ofSpec === null\n                    ? <NonLeafMacro>MacroMap.getGlobal(target.child)  // \n                    : <NonLeafMacro>ofSpec.macros.get(target.child);  // \n\n                this.children = this.sourceMacro.children;\n                this.childNames = this.sourceMacro.childNames;\n            }\n        }\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitNonLeafAttachment(this, ...data);\n    }\n}\n\n/** CodeType  Option \n *  LeafNode\n */\nexport class LeafAttachment extends Attachment {\n\n    /**  LeafAttachemnt \n     *  LeafAttachemnt type  LeafMacro \n     *  Type\n     */\n    type: Type;\n\n    /**  LeafAttachemnt \n     *  type  LeafMacro  LeafMacro\n     *  IRspec  macro  sourceMacro\n     *  LeafNode  null\n     */\n    sourceMacro: LeafMacro | null;\n\n    /**  StructMD-IRspec Compiler \n     * @param subject  LeafAttachemnt  Option\n     * @param cardinality  LeafAttachemnt \n     * @param displayAbsent  StructMD-IR  0  LeafAttachemnt \n     *                       null\n     * @param description  LeafAttachment  null\n     * @param type  LeafAttachemnt \n     * @param sourceMacro  LeafAttachemnt  null\n     */\n    constructor(subject: Option,\n        cardinality: Cardinality,\n        displayAbsent: string | null,\n        description: string | null,\n        type: Type,\n        sourceMacro: LeafMacro | null);\n\n    /**  StructMD-IR Toolkit \n     * @param subject  LeafAttachemnt  Option\n     * @param target \n     */\n    constructor(subject: Option,\n        target: object);\n\n    constructor(p1: Option,\n        p2: Cardinality | object,\n        p3?: string | null,\n        p4?: string | null,\n        p5?: Type,\n        p6?: LeafMacro | null) {\n        if (p2 instanceof Cardinality) {\n            //  StructMD-IRspec Compiler \n            super(p1, <Cardinality>p2, <string | null>p3, <string | null>p4);\n\n            this.type = <Type>p5;\n            this.sourceMacro = <LeafMacro | null>p6;\n\n        } else {\n            //  StructMD-IR Toolkit \n            let subject: Option = p1;\n            let target = <{\n                type: string\n            }>p2;\n\n            super(subject, p2);\n\n            //  subject: Option  ofCodeType  CodeType\n            //  CodeType  ofSpec  IRspec  null ()\n            let ofCodeType: CodeType = <CodeType>subject.ofCodeType;\n            let ofSpec: IRspec | null = <IRspec | null>ofCodeType.ofSpec;\n\n            let type: Type | undefined;\n            type = (target.type === \"decimal\") ? DecimalType.create(target)\n                : (target.type === \"integer\") ? IntegerType.create(target)\n                    : (target.type === \"string\") ? StringType.create(target)\n                        : (target.type === \"markdown\") ? MarkdownType.create(target)\n                            : (target.type === \"date\") ? DateType.create(target)\n                                : (target.type === \"dateTime\") ? DateTimeType.create(target)\n                                    : (target.type === \"time\") ? TimeType.create(target)\n                                        : (target.type === \"boolean\") ? BooleanType.create(target)\n                                            : (target.type === \"base64Binary\") ? Base64BinaryType.create(target)\n                                                : (target.type === \"code\") ? new CodeType(target, ofSpec)\n                                                    : /*  10  macro */      undefined  // \n                ;\n\n            if (type !== undefined) {\n                // \n                this.sourceMacro = null;\n                this.type = type;\n\n            } else {\n                // \n                this.sourceMacro = ofSpec === null\n                    ? <LeafMacro>MacroMap.getGlobal(target.type)  // \n                    : <LeafMacro>ofSpec.macros.get(target.type);  // \n\n                this.type = this.sourceMacro.type;\n            }\n        }\n    }\n\n    accept(visitor: Visitor, ...data: any[]): any {\n        return visitor.visitLeafAttachment(this, ...data);\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LaunchComponent } from './launch.component';\nimport { FhirClientService } from './fhir-client.service';\n\n@NgModule({\n  declarations: [LaunchComponent],\n  imports: [\n    CommonModule\n  ],\n  providers: [FhirClientService]\n})\nexport class SmartAuthModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\n// formio \nimport { FormioModule, Templates } from '@formio/angular';\nimport { Formio } from 'formiojs';\n(Formio as any).cdn.setBaseUrl('/web/cdn/formio');\nTemplates.framework = 'bootstrap3';\n\n\nimport { QuestionnaireCenterComponent } from './questionnaire-center.component';\n\n@NgModule({\n  declarations: [QuestionnaireCenterComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n\n    FormioModule\n  ],\n  exports: [QuestionnaireCenterComponent]\n})\nexport class QuestionnaireCenterModule { }\n","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn-bd\": \"loYQ\",\n\t\"./bn-bd.js\": \"loYQ\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-in\": \"7C5Q\",\n\t\"./en-in.js\": \"7C5Q\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./en-sg\": \"t+mt\",\n\t\"./en-sg.js\": \"t+mt\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-mx\": \"tbfe\",\n\t\"./es-mx.js\": \"tbfe\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fil\": \"1ppg\",\n\t\"./fil.js\": \"1ppg\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-deva\": \"qvJo\",\n\t\"./gom-deva.js\": \"qvJo\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./oc-lnc\": \"Fnuy\",\n\t\"./oc-lnc.js\": \"Fnuy\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tk\": \"Wv91\",\n\t\"./tk.js\": \"Wv91\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-mo\": \"OmwH\",\n\t\"./zh-mo.js\": \"OmwH\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","import { Component, OnInit } from '@angular/core';\nimport * as FHIR from 'fhirclient';\n\n@Component({\n  selector: 'app-launch',\n  templateUrl: './launch.component.html',\n  styleUrls: ['./launch.component.scss']\n})\nexport class LaunchComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n\n    //  sessionStorage  iss  # \n    const iss = sessionStorage.getItem('iss_self');\n    const launch = sessionStorage.getItem('launch_self');\n\n    if (iss && launch) {\n      //  iss authorize\n      FHIR.oauth2.authorize({\n        clientId: 'my_web_app',\n        scope: 'launch/patient openid fhirUser patient/*.read patient/*.write',\n        redirectUri: '#/questionnaire-center',\n        iss: iss,\n        launch: launch\n      });\n    } else {\n      // \n      FHIR.oauth2.authorize({\n        clientId: 'my_web_app',\n        scope: 'launch/patient openid fhirUser patient/*.read',\n        redirectUri: '#/questionnaire-center',\n      }).catch(err => console.error(err));\n    }\n\n  }\n\n}\n","<p>launch works!</p>\n","import { Component, isDevMode, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n})\nexport class AppComponent implements OnInit {\n  title = 'fhir-prom-formio';\n\n  constructor(private router: Router) {\n  }\n\n  async ngOnInit() {\n\n    console.log('app component ', window.location.href);\n\n    const searchParams = new URLSearchParams(window.location.search);\n    const hashPart = window.location.hash.split('?')[1]; //  #  ? \n    const hashParams = new URLSearchParams(hashPart || '');\n    const urlParams: URLSearchParams = searchParams;\n    hashParams.forEach((value, key) => { urlParams.append(key, value) });\n\n    await this.setURLSearchParams(urlParams);\n\n    // // 1.  JS  #  (window.location.search)\n    // const code = urlParams.get('code');\n    // const state = urlParams.get('state');\n    // if (code && state) {\n    //   console.log(' FhirComponent');\n\n    //   // 2.  Angular \n    //   //  #/fhir?code=xxx&state=yyy\n    //   const queryParams = {};\n    //   for (let k of urlParams.keys()) {\n    //     queryParams[k] = urlParams.get(k);\n    //   }\n    //   this.router.navigate(['fhir'], {\n    //     queryParams: queryParams,\n    //     replaceUrl: true, // \n    //   });\n    // }\n\n    if (isDevMode()) {\n    }\n  }\n\n  private async setURLSearchParams(urlParams: URLSearchParams) {\n    for (let k of urlParams.keys()) {\n      console.log('k', k, urlParams.get(k));\n      await sessionStorage.setItem(`${k}_self`, urlParams.get(k));\n    }\n\n  }\n\n  public showMsg(event) {\n    console.log(event);\n  }\n}\n","<div style=\"height: 100vh\">\n  <!-- <app-fhir>\n  </app-fhir> -->\n  <router-outlet></router-outlet>\n</div>\n","import moment, { Moment, isMoment } from \"moment\";\nimport {\n  IRspec,\n  MacroMap, Macro, NonLeafMacro, LeafMacro,\n  Node, CommentNode, Node1, NonLeafNode, LeafNode,\n  Condition, Cardinality,\n  Type, NumberBoundType, DecimalType, IntegerType, StringType, MarkdownType,\n  DateBoundType, DatePrecision, DateType, DateTimeType,\n  TimeType, Base64BinaryType, BooleanType,\n  CodeType, Option, Attachment, NonLeafAttachment, LeafAttachment,\n} from \"./StructMD-IRspec\";\nimport {\n  Visitor\n} from \"./Visitor\";\n\n/* .5...10...15...20...25...30...35...40...45...50...55...60...65...70...75...80...85...90...95..100\n\n    clchen 2025-11-16 (v2.1.4)\n\n    Form.io \n    (1) Form.io  \"a\"  radio  value  \"foo\"  \"a\":\"foo\"\n         value  number  ( \"123\")  \"a\":123\n         IR Form.io  valid=...  show=... \n    (2) 2.1.3 () radio selectBoxes\n        2.1.4  radio  selectBoxes  select\n\n    \n    (1) [VisitorFormIO]\n            IRspec  form.io  number optionPrefix __\n             \"a\":\"__123\"\n             valid=...  show=... \n        [VisitorFormIO2]\n             IR  __  \"123\"\n        [VisitorFormIO3]\n            IR  __ \n    (2) [VisitorFormIO]\n             selectThreshold\n             code  option  radio  selectBoxes select\n            Form.io  radio            \"a\":\"__foo\"\n                                    select          \"a\":\"__foo\"\n                                    select+multiple \"a\":[\"__foo\",\"__bar\"]\n                                    selectBoxes     \"a\":{\"__foo\":true,\"__baz\":false}\n             valid=...  show=...\n        [VisitorFormIO2]\n             IR  IRspec  \"a\":\"foo\"\n             \"a\":[\"foo\",\"bar\"] IR  optionMemo\n            \"__FormioOptionMemo_a\":1  a  select+multiple \n              \"__FormioOptionMemo_a\":2  a  selectBoxes \n        [VisitorFormIO3]\n            IR  radio  select  \"a\":\"__foo\" \n             __FormioOptionMemo_a\n                 \"a\":[\"__foo\",\"__bar\"]\n                 \"a\":{\"__foo\":true,\"__baz\":false}\n\n....5...10...15...20...25...30...35...40...45...50...55...60...65...70...75...80...85...90...95.. */\n\nexport class VisitorFormIO implements Visitor {\n\n  static singleton: VisitorFormIO = new VisitorFormIO();\n  private constructor() { }\n\n  // v2.1.4  Form.io \n  //  static initializer \n  static formioPanelTheme: string = \"info\";\n  static formioPanelCollapsible: boolean = true;\n  static formioLabelPosition: string = \"left-left\";\n  static formioLabelWidth: number = 20;\n  static formioLabelMargin: number = 1;\n  static formioDecimalLimit: number = 5;\n  static formioDecimalEpsilon: number = 0.00001;  //  10^(-formioDecimalLimit)\n  static formioInline: boolean = true;\n  static formioTrue: string = \"TRUE\";             //  true, flase \n  static formioFalse: string = \"FALSE\";\n  static formioBooleanArrayElementName: string = \"noname\";\n\n  // v2.1.4 \n  static optionPrefix: string = \"__\";\n\n  // v2.1.4 1  select\n  private selectThreshold: number = 1;\n\n  // v2.1.4 \n  static optionMemo: string = \"__FormioOptionMemo_\";  // key-value-pair  key\n  static useSelect: number = 1;                       // key-value-pair  value\n  static useSelectBoxes: number = 2;                  // key-value-pair  value\n\n  // v2.2 \n  static datePrecisionPostfix: string = \"__precision\";\n\n  /**  StructMD_IRspec  Form.io \n   * @param specNum  StructMD_IRspec \n   * @param selectThreshold  code  option  radio  selectBoxes\n   *                         select\n   * @param outputFile  Form.io \n   *                    Form_<>.json\n   * @return  Form.io  JSON \n   */\n  gen(specNum: number,\n    selectThreshold?: number,\n    outputFile?: string): void | object // \n  // outputFile?: string): void\n  {\n    if (selectThreshold !== undefined) {\n      this.selectThreshold = selectThreshold;\n    }\n\n    let spec: IRspec = <IRspec>IRspec.get(specNum);\n    if (outputFile === undefined) {\n      outputFile = `Form_${spec.specNum}.json`;\n    }\n    return spec.accept(this) // \n    // fs.writeFileSync(outputFile, JSON.stringify(spec.accept(this)));\n    //  visitIRspec()\n  }\n\n  visitIRspec(v: IRspec): any {\n    let result: any = {\n      components: [\n        {\n          type: \"panel\",\n          theme: VisitorFormIO.formioPanelTheme,\n          collapsible: VisitorFormIO.formioPanelCollapsible,\n          collapsed: false, // \n          title: v.display !== null\n            ? v.display\n            : `(${v.specNum})`,\n          tooltip: ` StructMD-IRspec  ${v.specNum} `,\n          components: []  // \n        }\n      ]\n    };\n\n    let panel: any = result.components[0];\n\n    for (let child of v.children) {\n      panel.components.push(...child.accept(this, \"data\"));\n      //  visitCommentNode(), visitNonLeafNode(),\n      // visitLeafNode()\n    }\n\n    return result;\n  }\n\n  visitCommentNode(v: CommentNode): any[] {\n    // CommentNode  StructMD-IR \n    // form.io  visitor \n\n    return [];\n  }\n\n  /**\n   * @param fqParent  NonLeafNode  Fully Qualified name\n   *                  form.io  API property name  data \n   *                  show=...  valid=...  fully qualified name\n   *                 \n   *                  NonLeafNode  form.io  API property name \n   * @returns  form.io  panel + (container  editgrid)\n   *          container  editgrid  NonLeafNode  children  form.io  \n   */\n  visitNonLeafNode(v: NonLeafNode,\n    fqParent: string): any[] {\n    //  form.io  container  editGrid \n    //  container  editGrid  panel\n\n    let result: any[] = [\n      {\n        type: \"panel\",\n        theme: VisitorFormIO.formioPanelTheme,\n        collapsible: VisitorFormIO.formioPanelCollapsible,\n        collapsed: VisitorFormIO.formioPanelCollapsible,\n        title: v.name,      // panel  title label\n        hideLabel: false,   //  title\n        tooltip: \"TBD\",     //  tooltip \n        components: [\n          {\n            //  NonLeafNode  cardinality.upper = 1\n            //  container  NonLeafNode  children  form.io \n            //  editGrid\n            //\n            //  cardinality.upper = 1 container \n            //\n            //  NonLeafNode\n            //  csv  FHIR \n            // clchen 2025-11-30\n            type: v.cardinality.upper === 1\n              ? \"container\"\n              : \"editgrid\",\n\n            key: v.mName,\n            label: v.name,\n            hideLabel: true,                //  label panel  title\n            tooltip: v.description === null //  IRspec \n              ? \"\"                     // visitCardinality() \n              : `  ${v.description}`,  //  panel delete\n            validate: {},                   // visitCardinality() \n            //  delete\n            components: []                  // \n          }\n        ]\n      }\n    ];\n\n    let panel: any = result[0];\n    let container: any = panel.components[0];  //  container editgrid\n\n    //  condition conditional  customConditional\n    if (v.condition !== null) {\n      //  visitCondition()\n      v.condition.accept(this, container, `${fqParent}.${v.condition.subject.mName}`);\n    }\n\n    //  cardinality\n    //  visitCardinality()\n    v.cardinality.accept(this, container, `${fqParent}.${v.mName}`);\n\n    //  validate \n    if (Object.keys(container.validate).length === 0) {\n      delete container.validate;\n    }\n\n    //  container  customConditional  panel\n    if (container.customConditional !== undefined) {\n      panel.customConditional = container.customConditional;\n    }\n\n    //  container  editgrid  tooltip \n    if (container.tooltip.length > 2) {\n      //  tooltip \n      panel.tooltip = container.tooltip.substring(2);\n    }\n    delete container.tooltip;\n\n    //  NonLeafNode  children  container  editgrid\n    for (let child of v.children) {\n      let p: string = container.type === \"editgrid\"\n        ? \"row\"  // editgrid  row \n        : `${fqParent}.${v.mName}`;\n      container.components.push(...child.accept(this, `${p}`));\n      //  visitCommentNode(), visitNonLeafNode(),\n      // visitLeafNode()\n    }\n\n    return result;\n  }\n\n  /**\n   * @param fqParent  LeafNode  Fully Qualified name\n   *                  form.io  API property name  data \n   *                  show=...  valid=...  fully qualified name\n   *                 \n   * @returns  LeafNode  form.io \n   *          CodeType  Attachment  form.io \n   */\n  visitLeafNode(v: LeafNode,\n    fqParent: string): any[] {\n    let result: any[] = [\n      {\n        type: \"TBD\",                    //  visitXXXType \n        key: v.mName,\n        label: v.name,\n        labelPosition: VisitorFormIO.formioLabelPosition,\n        labelWidth: VisitorFormIO.formioLabelWidth,\n        labelMargin: VisitorFormIO.formioLabelMargin,\n        hideLabel: false,               // \n        tableView: v.isKey              // v2.1.4 \n          ? true\n          : false,               // undefned  false\n        tooltip: v.description === null //  IRspec \n          ? \"\"                     // visitCardinality() \n          : `  ${v.description}`,  // \n        validate: {}                    // visitCardinality() \n        //  delete\n      }\n    ];\n\n    //  type  result[0]\n    //  form.io ( attachment) result\n    result.push(\n      ...v.type.accept(\n        this,          //  visitXXXType() \n        result[0],     //  visitXXXType() \n        v,             // visitBooleanType()  visitCodeType() \n        fqParent,      // visitDateType(), visitDateTimeType()  visitCodeType() \n        v.mName        //  visitCodeType() \n      )\n    );  //  visitXXXType()\n\n    //  condition conditional  customConditional\n    if (v.condition !== null) {\n      //  visitCondition()\n      v.condition.accept(this, result[0], `${fqParent}.${v.condition.subject.mName}`);\n    }\n\n    //  cardinality\n    //  visitCardinality()\n    v.cardinality.accept(this, result[0], `${fqParent}.${v.mName}`);\n\n    //  validate \n    if (Object.keys(result[0].validate).length === 0) {\n      delete result[0].validate;\n    }\n\n    if (result[0].tooltip.length > 2) {\n      //  tooltip \n      result[0].tooltip = result[0].tooltip.substring(2);\n    } else {\n      delete result[0].tooltip;\n    }\n\n    if (result[0].defaultValue === undefined) {\n      switch (result[0].type) {\n        case \"number\":      //  form.io  placeholder\n        case \"textfield\":\n        case \"textarea\":\n        case \"datetime\":\n        case \"time\":\n        case \"select\":      // v2.1.4 \n\n          //  description  description tooltip\n          result[0].placeholder = v.description !== null\n            ? v.description\n            : result[0].tooltip;\n      }\n    }\n\n    return result;\n  }\n\n  /**\n   * @param updated  form.io  Condition  customConditional \n   * @param fqSubject  Condition  subject  form.io  fully qualified name\n   *                   customConditional  show=...  RHS\n   */\n  visitCondition(v: Condition,\n    updated: any,\n    fqSubject: string): void {\n    /*\n         Condition \n        \n         SUBJECT                                   OPERATOR        VALUE               \n                                             \n         NODE  DATA TYPE     CARD  formIo type                  DATA TYPE           \n        \n         Leaf  decimal       ?..1  number       ge lt           number              \n         Node                ?..1  number       btw             [number, number]    \n                             0..?  number[]     exist           boolean             \n              \n               integer       ?..1  number       ge lt           number (integer)    \n                             ?..1  number       btw             [number, number]    \n                             0..?  number[]     exist           boolean             \n              \n               date          ?..1  datetime     ge lt           string (YYYY-MM-DD) \n               dateTime      ?..1  datetime     btw             [string, string]    \n                             0..?  datetime[]   exist           boolean             \n              \n               boolean       ?..1  radio        eq              boolean | string    \n                             0..?  editgrid     exist           boolean             \n              \n               code          ?..?  radio        has             string              \n                             ?..?  OR           anyIn allNotIn  string[]            \n                             0..?  selectboxes  exist           boolean             \n              \n               string        0..?  textfield    exist           boolean             \n               time                time                                             \n               markdown            textarea                                         \n               base64Binary        textfield                                        \n                                                                \n         NonLeafNode                container                                        \n                                    OR editgrid                                      \n        \n    */\n\n    // exist  LeafNode  NonLeafNode switch  LeafNode\n    if (v.operator === \"exist\") {\n      /*\n          *                                         \n          *  \n          *  Tree          container  {}  editgrid     []  [{}]\n          *  decimal       number     undefined  number[]     [null]\n          *  integer       number     undefined  number[]     [null]\n          *  string        textField  \"\"         textField[]  []  [\"\"]\n          *  markdown      textArea   \"\"         textArea[]   []  [\"\"]\n          *  base64Binary  textField  \"\"         textField[]  []  [\"\"]\n          *  date          dateTime   \"\"         dateTime[]   []  [\"\"]\n          *  dateTime      dateTime   \"\"         dateTime[]   []  [\"\"]\n          *  time          time       \"\"         time[]       []  [\"\"]\n          *  boolean       radio      \"\"         editgrid     []  [{}]\n          *  code          radio      \"\"         selectboxes  {}  {null}\n          *  \n          */\n      //  form.io \n\n      updated.customConditional\n        = `show=${<boolean>v.value ? \"!\" : \"\"}(`\n        + `${fqSubject}===undefined`\n        + `||${fqSubject}===null`                  // null  object\n        + `||${fqSubject}===\"\"`\n        + `||`\n        + `Array.isArray(${fqSubject})`       //  object\n        + `&&${fqSubject}.reduce(`\n        + `(a,x)=>(x===null||x===undefined||x===\"\")&&a,true`\n        + `)`\n        + `||`\n        + `typeof ${fqSubject}===\"object\"`\n        + `&&!Array.isArray(${fqSubject})`    // null \n        //  AND \n        //  object\n        + `&&Object.values(${fqSubject}).reduce(`\n        + `(a,x)=>(x===false)&&a,true`\n        + `)`\n        + `)`;\n      return;\n    }\n\n    let subject: LeafNode = <LeafNode>v.subject;\n\n    switch (v.operator) {\n      case \"ge\":\n        updated.customConditional\n          = (subject.type instanceof DecimalType || subject.type instanceof IntegerType)\n            ? `show=${<number>v.value}<=${fqSubject};`\n            : `show=moment(\"${v.value}\").isSameOrBefore(${fqSubject});`;\n        return;\n\n      case \"lt\":\n        updated.customConditional\n          = (subject.type instanceof DecimalType || subject.type instanceof IntegerType)\n            ? `show=${<number>v.value}>${fqSubject};`\n            : `show=moment(\"${v.value}\").isAfter(${fqSubject});`;\n        return;\n\n      case \"btw\":\n        if (subject.type instanceof DecimalType || subject.type instanceof IntegerType) {\n          let n2: [number, number] = <[number, number]>v.value;\n          updated.customConditional\n            = `show=${n2[0]}<=${fqSubject}&&${fqSubject}<${n2[1]};`;\n\n        } else /* datetime */ {\n          let m2: [Moment, Moment] = <[Moment, Moment]>v.value;\n          updated.customConditional\n            = `show=moment(\"${m2[0]}\").isSameOrBefore(${fqSubject})`\n            + `&&moment(\"${m2[1]}\").isAfter(${fqSubject});`;\n        }\n        return;\n\n      case \"eq\":\n        updated.customConditional = <boolean>v.value\n          ? `show=${fqSubject}===\"${VisitorFormIO.formioTrue}\";`\n          : `show=${fqSubject}===\"${VisitorFormIO.formioFalse}\";`;\n        // form.io  radio \n        return;\n\n      case \"has\":\n        // v2.1.4 \n        let formioCondValue: string = VisitorFormIO.optionPrefix + (<Option>v.value).code;\n\n        let expr: string = \"\";\n\n        if (subject.cardinality.upper === 1) {\n          //  select  radio\n          expr = `${fqSubject}===\"${formioCondValue}\"`;\n\n        } else if (this.selectThreshold <= (<CodeType>subject.type).options.length) {\n          //  select\n          expr = `${fqSubject}.includes(\"${formioCondValue}\")`;\n\n        } else {\n          //  selectBoxes\n          expr = `${fqSubject}.${formioCondValue}`;\n        }\n\n        updated.customConditional = `show=${expr};`;\n        return;\n\n      case \"anyIn\":\n      case \"allNotIn\":\n        // v2.1.4 \n        let astCondValues: Option[] = <Option[]>v.value;\n        let formioCondValues: string\n          = `[${astCondValues.map(x => `\"${VisitorFormIO.optionPrefix}${x.code}\"`)}]`;\n\n        expr = \"\";\n\n        if (subject.cardinality.upper === 1) {\n          //  select  radio\n          expr = `${formioCondValues}.includes(${fqSubject})`;\n\n        } else if (this.selectThreshold <= (<CodeType>subject.type).options.length) {\n          //  select\n\n          //  x  y  x  true\n          let innerExpr: string = `(${fqSubject}.reduce((b,y)=>b||x===y,false))`;\n\n          //  x  y  true\n          expr = `${formioCondValues}.reduce((a,x)=>a||${innerExpr},false)`;\n\n        } else {\n          //  selectBoxes\n          expr = `${formioCondValues}.reduce((a,x)=>a||${fqSubject}[x],false)`;\n        }\n\n        updated.customConditional = v.operator === \"anyIn\"\n          ? `show=(${expr});`\n          : `show=!(${expr});`;\n        return;\n    }\n  }\n\n  /**\n   * @param updated  form.io  Cardinality \n   * @param fqNode  form.io  Fully Qualified name\n   *                form.io  API property name  data \n   *                validate.custom  valid=...  RHS\n   */\n  visitCardinality(v: Cardinality,\n    updated: any,\n    fqNode: string): void {\n    /*\n        card              type                      validate\n        \n                                       v2.1.4 \n                                        0  valid=... \n                                        *  valid=... \n        0..1 code     select          \n        1..1 code     select           required\n        0..n code     select multiple \n        1..n code     select multiple  required\n        m..n code     select multiple  required\n        0..* code     select multiple \n        1..* code     select multiple  required\n        m..* code     select multiple  required\n        \n        0..1 code     radio           \n        1..1 code     radio            required\n        0..n code     selectboxes                                  maxSelectedCount=n\n        1..n code     selectboxes      required                    maxSelectedCount=n\n        m..n code     selectboxes      required minSelectedCount=m maxSelectedCount=n\n        0..* code     selectboxes     \n        1..* code     selectboxes      required\n        m..* code     selectboxes      required minSelectedCount=m\n        \n        0..1 tree     container       \n        1..1 tree     container        required\n        0..n tree     editgrid                              maxLength=n\n        1..n tree     editgrid         required             maxLength=n\n        m..n tree     editgrid         required minLength=m maxLength=n\n        0..* tree     editgrid        \n        1..* tree     editgrid         required\n        m..* tree     editgrid         required minLength=m\n        \n        0..1 boolean  radio           \n        1..1 boolean  radio            required\n        0..n boolean  editgrid+radio                        maxLength=n\n        1..n boolean  editgrid+radio   required             maxLength=n\n        m..n boolean  editgrid+radio   required minLength=m maxLength=n\n        0..* boolean  editgrid+radio  \n        1..* boolean  editgrid+radio   required\n        m..* boolean  editgrid+radio   required minLength=m\n        \n        0..1 ppp      qqq                        required\n        0..n ppp      qqq multiple              \n        0..* ppp      qqq multiple    \n        1..1 ppp      qqq              required  required\n        1..n ppp      qqq multiple     required \n        m..n ppp      qqq multiple     required  selectboxes  minSelectedCount\n        1..* ppp      qqq multiple     required  editgrid  minLength \n        m..* ppp      qqq multiple     required  javascript\n        \n        IRspec          form.io\n        ppp         --> qqq\n        decimal     --> Number\n        integer     --> Number\n        string      --> Text Field\n        base64Binary--> Text Field\n        markdown    --> Text Area\n        date        --> Date / Time\n        dateTime    --> Date / Time\n        time        --> Time\n    */\n\n    //  Abstract Syntax Tree  v\n    //  Cardinality  LeafNode  NonLeafNode\n    //  form.io  updated\n    //  v2.1.4  updated.type\n\n    //  tooltip  placeholder \n    //  tooltipvisitLeafNode()  placeholder\n    let numRecord: string = v.lower === v.upper\n      ? v.lower.toString()\n      : `${v.lower}~${v.upper < Number.MAX_SAFE_INTEGER ? v.upper : \"\"}`;\n    let isCodeType: boolean = updated.type === \"select\"\n      || updated.type === \"radio\"\n      || updated.type === \"selectboxes\";\n    updated.tooltip += !isCodeType\n      ? `  [${numRecord}]`\n      : v.upper === 1\n        ? `  `\n        : `  [${numRecord}]]`;\n\n    // \n    if (v.lower > 0) {\n      updated.validate.required = true;\n    }\n\n    // \n    if (updated.type === \"container\") {\n      // 0..1  1..1  form.io \n\n    } else if (updated.type === \"radio\") {\n      // 0..1  1..1  form.io \n\n    } else if (updated.type === \"select\" && v.upper === 1) {\n      // 0..1  1..1  form.io \n\n    } else if (updated.type === \"select\") {\n      let invalid: string = \"\";\n      if (v.lower !== 0) {\n        invalid += `||${fqNode}.length<${v.lower}`;\n      }\n      if (v.upper !== Number.MAX_SAFE_INTEGER) {\n        invalid += `||${v.upper}<${fqNode}.length`;\n      }\n\n      if (invalid.length > 0) {\n        updated.validate.custom = `valid=(${invalid.substring(2)})`\n          + `?\"\"`\n          + `:true;`;\n      }\n\n    } else if (updated.type === \"selectboxes\") {\n      // selectboxes  validate.minSelectedCount(maxSelectedCount) \n      if (v.lower > 1) {  // 2  required=true \n        updated.validate.minSelectedCount = v.lower;\n      }\n      if (v.upper > 1 && v.upper !== Number.MAX_SAFE_INTEGER) {\n        updated.validate.maxSelectedCount = v.upper;\n      }\n\n    } else if (updated.type === \"editgrid\") {\n      // // editgrid  validate.minLength(maxLength) \n      // if (v.lower > 1) {  // 2  required=true \n      //     updated.validate.minLength = v.lower;\n      // }\n      // if (v.upper > 1 && v.upper !== Number.MAX_SAFE_INTEGER) {\n      //     updated.validate.maxLength = v.upper;\n      // }\n      // editgrid  validate.minLength(maxLength) \n      if (v.lower !== 0) {  // 2  required=true \n        updated.validate.minLength = v.lower;\n      }\n      if (v.upper !== Number.MAX_SAFE_INTEGER) {\n        updated.validate.maxLength = v.upper;\n      }\n\n      if (v.lower > 0) {\n        updated.openWhenEmpty = true;  // editgrid \n      }\n\n    } else {\n      // 0..1  1..1  multiple validate.required \n      if (v.upper > 1) {\n\n        //  multiple\n        updated.multiple = true;\n\n        //  valid=... \n        // form.io  required  multiple \n        //  cardinality.lower = 0  required\n        // \n        let xIsEmpty: string = `x===null||x===undefined||x===\"\"`;\n        let invalid1: string = \"\";  // \n        let invalid2: string = \"\";  // \n\n        //  multipleform.io length \n        invalid1 += `2<=${fqNode}.length`\n          + \"&&\"\n          + `${fqNode}.reduce((a,x)=>a||${xIsEmpty},false)`\n        if (v.lower !== 0) {\n          invalid2 += `||${fqNode}.length<${v.lower}`;\n        }\n        if (v.upper !== Number.MAX_SAFE_INTEGER) {\n          invalid2 += `||${v.upper}<${fqNode}.length`;\n        }\n\n        if (invalid1.length > 0 && invalid2.length > 0) {\n          updated.validate.custom = `valid=(${invalid1})`\n            + `?\"\"`\n            + `:(${invalid2.substring(2)})`\n            + `?\"\"`\n            + `:true;`;\n\n        } else if (invalid1.length > 0) {\n          updated.validate.custom = `valid=(${invalid1})`\n            + `?\"\"`\n            + `:true;`;\n\n        } else if (invalid2.length > 0) {\n          updated.validate.custom = `valid=(${invalid2.substring(2)})`\n            + `?\"\"`\n            + `:true;`;\n        }\n      }\n\n      /*\n       * Form.io  bug\n       * +Add AnotherForm.io  validation\n       * Javascript  Form.io  Required \n       *\n       * \n       * Form.io  StructMD-IRspec \n       *  StructMD-IR \n       */\n    }\n  }\n\n  /**\n   * @param updated  form.io \n   *                 DecimalType \n   *                tooltip \n   * @return  form.io  (updated )\n   *         \n   */\n  visitDecimalType(v: DecimalType,\n    updated: any): any[] {\n    // \n    updated.type = \"number\";\n    updated.decimalLimit = VisitorFormIO.formioDecimalLimit;\n\n    // \n    if (v.defaultValue !== null) {\n      updated.defaultValue = v.defaultValue;\n    }\n\n    // \n    let range: string = \"\";\n    if (v.lower !== null) {\n      updated.validate.min = v.lower;\n      range += `${v.lower}~`;\n    }\n    if (v.upper !== null) {\n      updated.validate.max = v.upper - VisitorFormIO.formioDecimalEpsilon;\n      range += `~${v.upper}()`;\n    }\n\n    // tooltip\n    updated.tooltip += \"  \";\n    if (range.length !== 0) {\n      updated.tooltip += `  [${range.replace(\"~~\", \"~\")}]`;\n    }\n\n    return [];  //  form.io \n  }\n\n  /**\n   * @param updated  form.io \n   *                 IntegerType \n   *                tooltip \n   * @return  form.io  (updated )\n   *         \n   */\n  visitIntegerType(v: IntegerType,\n    updated: any): any[] {\n    // \n    updated.type = \"number\";\n    updated.decimalLimit = 0;\n\n    // \n    if (v.defaultValue !== null) {\n      updated.defaultValue = v.defaultValue;\n    }\n\n    // \n    let range: string = \"\";\n    if (v.lower !== null) {\n      updated.validate.min = v.lower;\n      range += `${v.lower}~`;\n    }\n    if (v.upper !== null) {\n      updated.validate.max = v.upper - 1;\n      range += `~${v.upper - 1}`;\n    }\n\n    // tooltip\n    updated.tooltip += \"  \";\n    if (range.length !== 0) {\n      updated.tooltip += `  [${range.replace(\"~~\", \"~\")}]`;\n    }\n\n    return [];  //  form.io \n  }\n\n  /**\n   * @param updated  form.io \n   *                 StringType \n   *                tooltip \n   * @return  form.io  (updated )\n   *         \n   */\n  visitStringType(v: StringType,\n    updated: any): any[] {\n    // \n    updated.type = \"textfield\";\n\n    // \n    if (v.defaultValue !== null) {\n      updated.defaultValue = v.defaultValue;\n    }\n\n    // \n    let range: string = \"\";\n    if (v.lower !== null) {\n      updated.validate.minLength = v.lower;\n      range += `${v.lower}~`;\n    }\n    if (v.upper !== null) {\n      updated.validate.maxLength = v.upper - 1;\n      if (updated.validate.minLength === updated.validate.maxLength) {\n        range = `${v.lower}`;\n      } else {\n        range += `~${v.upper - 1}`;\n      }\n    }\n\n    // tooltip\n    updated.tooltip += \"  \";\n    if (range.length !== 0) {\n      updated.tooltip += `  [${range.replace(\"~~\", \"~\")}]`;\n    }\n\n    return [];  //  form.io \n  }\n\n  /**\n   * @param updated  form.io \n   *                 MarkdownType \n   *                tooltip \n   * @return  form.io  (updated )\n   *         \n   */\n  visitMarkdownType(v: MarkdownType,\n    updated: any): any[] {\n    // \n    updated.type = \"textarea\";\n\n    // \n    if (v.defaultValue !== null) {\n      updated.defaultValue = v.defaultValue;\n    }\n\n    // \n    let range: string = \"\";\n    if (v.lower !== null) {\n      updated.validate.minLength = v.lower;\n      range += `${v.lower}~`;\n    }\n    if (v.upper !== null) {\n      updated.validate.maxLength = v.upper - 1;\n      if (updated.validate.minLength === updated.validate.maxLength) {\n        range = `${v.lower}`;\n      } else {\n        range += `~${v.upper - 1}`;\n      }\n    }\n\n    // tooltip\n    updated.tooltip += \"  markdown\";\n    if (range.length !== 0) {\n      updated.tooltip += `  [${range.replace(\"~~\", \"~\")}]`;\n    }\n\n    return [];  //  form.io \n  }\n\n  /**\n   * @param updated  form.io \n   *                 Base64BinaryType \n   *                tooltip \n   * @return  form.io  (updated )\n   *         \n   */\n  visitBase64BinaryType(v: Base64BinaryType,\n    updated: any): any[] {\n    // \n    updated.type = \"textfield\";\n\n    // \n    if (v.defaultValue !== null) {\n      updated.defaultValue = v.defaultValue;\n    }\n\n    // tooltip\n    updated.tooltip += \"  base64Binary\";\n\n    // TODO ////////////////////////////////////\n    // form.io\n    ////////////////////////////////////////////\n\n    return [];  //  form.io \n  }\n\n  /**\n   * @param updated  form.io \n   *                 DateTimeType \n   *                tooltip \n   * @param useless \n   * @param fqLeafParent  DateTimeType  LeafNode  LeafAttachment\n   *                      Fully Qualified name\n   *                      form.io  API property name  data \n   *                      show=...  fully qualified name\n   *                     \n   * @return  form.io  (updated )\n   *         mustHave  YMDT  radio \n   */\n  visitDateTimeType(v: DateTimeType,\n    updated: any,\n    useless: LeafNode | LeafAttachment,\n    fqLeafParent: string): any[] {\n    /* ..15...20...25...30...35...40...45...50...55...60...65...70...75...80...85...90...95..100\n\n        Form.io  datetime  OK \n\n        +  Form.io  type=datetime  format  ()\n          \n        +  format  ()  12  ( am  pm)\n        +  defaultValue \n            -  UTC  ( Z )\n               UTC \n            -  ( +09:00 )\n              \n            -  moment()\n            -  multiple\n        +  defaultDate \n            -  moment() Moment \n            -  multiple\n            -  UTC  UTC \n              \n        +  defaultValue \n\n        \n\n        +  format  24 \n        + StructMD-IRspec  now  defaultDate\n           now \n        + StructMD-IRspec  defaultValue\n           VisitorFormIO \n        +  StructMD-IR \n                moment(\"2024-12-31T20:00:00Z\").format(\"YYYY-MM-DDTHH:mm:ssZ\")\n                moment(\"2025-01-01T05:00:00+09:00\").format(\"YYYY-MM-DDTHH:mm:ssZ\")\n                moment(\"2025-01-01T04:00:00+08:00\").format(\"YYYY-MM-DDTHH:mm:ssZ\")\n          \n\n    .....15...20...25...30...35...40...45...50...55...60...65...70...75...80...85...90...95..100\n\n        FHIR  date dateTime \n        StructMD-IRspec Form.io \n\n        \n        + IRspec grammar  v2.2\n            - \"type\":\"date\"  \"mustHave\":\"Y\"  \"YM\"  \"YMD\"\n            - \"type\":\"datetime\"  \"mustHave\":\"Y\"  \"YM\"  \"YMD\"  \"YMDT\"\n        + v2.2  mustHave IRspec IR \n                | IRspec    |          IR                 |\n                |-----------|----------|------------------|\n                | mustHave  | date     | datetime         |\n                |-----------|----------|------------------|\n                | \"Y\"       | YMD YM Y | YMDhmsZ YMD YM Y |\n                | \"YM\"      | YMD YM   | YMDhmsZ YMD YM   |\n                | \"YMD\"     | YMD      | YMDhmsZ YMD      |\n                | \"YMDT\"    |          | YMDhmsZ          |\n                | undefined | YMD YM Y | YMDhmsZ YMD YM Y | ( v2.1)\n        + IRspec  \"type\":\"date\"  \"type\":\"datetime\" \n            - lower  upper  YMD\n            - default  \"mustHave\":\"YM\" default  Y\n            -  Condition  subject  DateType  DateTimeType \n              Condition  value  YMD\n\n        \n        + StructMD-IRspec\n            - class DateType ( class DateTimeType)  instance variable mustHave\n            - create()  constructor() \n        + StructMD-IRspec Compiler\n            - class VisitorCompilerCondition\n                - visitDateType() \n                   IRspec  lower/upper  Condition  value\n                   YMD\n            - class Compiler  TYPE()  case \"date\":\n                -  mustHave  T_string \"Y\"  \"YM\"  \"YMD\"\n                -  mustHave  default  mustHave=YM  default  Y\n                -  lower/upper/default \n                   T_date2() \n                   2025-12  2025-12-01T00:00:00()  2026-01-01T00:00:00()\n                -  StructMD-IRspec  DateType.create()\n        + VisitorDumpAST\n            - visitDateType()  mustHave \n        + VisitorDumpSpec\n            - visitDateType()  mustHave \n        + VisitorFormIO (Spec2Form)\n            -  Form.io  Date/Time  datetime\n               mustHave  YMD  Form.io datetime \n                    {\n                        \"type\": \"datetime\",\n                        \"key\": \"birthdate\",\n                        \"label\": \"\",\n                        \"format\": \"yyyy-MM-dd\",\n                        \"enableTime\": false,\n                        \"multiple\":  cardinality.upper>1 true\n                    }\n               radio \n                    {\n                        \"type\": \"radio\",\n                        \"key\": \"birthdate__precision\",\n                        \"label\": \"()\",\n                        \"tooltip\": \"\",\n                        \"validate\": { \"required\": true },\n                        \"values\": [\n                            { \"label\": \"\",   \"value\": \"__0\" },\n                            { \"label\": \"\", \"value\": \"__1\" },\n                            { \"label\": \"\", \"value\": \"__2\" }\n                        ],\n                        \"defaultValue\": \"__2\",\n                        \"customConditional\": \"show= datetime \"\n                    }\n               0, 1, 2  enum \n            -  cardinality.upper>1radio\n              \n            - visitDateType()\n                - v2.1  [] form.io \n                - v2.2  radio\n            -  Reply \n                    \"birthdate\": \"2025-12-06T00:00:00+08:00\",\n                    \"birthdate__precision\": \"\"  //  default\n                                                // mustHave \n                                                // precision \n              \n                    \"birthdate\": \"2025-12-06T00:00:00+08:00\",\n                    \"birthdate__precision\": \"__YM\"\n              \n                    \"birthdate\": [\"2025-12-06T00:00:00+08:00\", \"2025-12-07T00:00:00+08:00\"],\n                    \"birthdate__precision\": \"\"      // \n              \n                    \"birthdate\": [\"2025-12-06T00:00:00+08:00\", \"2025-12-07T00:00:00+08:00\"],\n                    \"birthdate__precision\": \"__YM\"  // \n        + VisitorFormIO2 (Reply2IR)\n            - visitDateType()\n                -  fieldName  replyParent\n                -  fieldName  birthdate__precision \n                -  replyParent  birthdate__precision \n                -  Reply  birthdate__precision \n                -  IRspec  mustHave\n            - visitLeafNode()\n                -  IRspec  birthdate\n                -  birthdate__precision IRspec \n                - \n                -  IR \n                        \"birthdate\": \"2025-12-06\"\n                  \n                        \"birthdate\": \"2025-12\"\n                  \n                        \"birthdate\": [\"2025-12-06\", \"2025-12-07\"]\n                  \n                        \"birthdate\": [\"2025-12\", \"2025-12\"]\n            - visitLeafAttachment() \n               visitDateType()  visitLeafNode() \n        + VisitorIRChecker\n            - class VisitorCheckCondition \n               doDateBoundType()  IR  irSubject  Y  YM  date\n            - class VisitorIRChecker  visitDateType()\n                - v2.1  mustHave IR  Y, YM  YMD  date\n                - v2.2  mustHave \n                    - IRspec  mustHave=YM IR  YM  YMD Y\n        + VisitorFormIO3 (IR2Reply)\n            - visitLeafNode() \n                    rContainer[visitee.mName] = value;   // \n                    rContainer[visitee.mName] = values;  // \n               date  dateTime  IR \n                    rContainer[`${visitee.mName}__fuzziness`] = ???\n                -  IRspec  mustHave\n            - visitLeafAttachment() \n               caller visitOption()  visitLeafNode() \n        + VisitorReadable (IR2Yaml)\n            -  IR IR  YMD, YM  Y \n            -  IRspec  mustHave\n\n        clchen 2025-12-07\n\n    .....15...20...25...30...35...40...45...50...55...60...65...70...75...80...85...90...95.. */\n\n    // \n    updated.type = \"datetime\";\n    updated.format = \"yyyy-MM-ddTHH:mm:ss\";\n\n    // \n    if (typeof v.defaultValue === \"string\") {\n      switch (v.defaultValue) {\n        case \"now\":\n          // form.io \n          //  now  defaultDate \n          updated.defaultDate = \"moment()\";\n          break;\n\n        //  case \n\n        default: // \n          updated.defaultValue = moment(v.defaultValue).format(\"YYYY-MM-DDTHH:mm:ssZ\");\n      }\n    }\n\n    // \n    let range: string = \"\";\n    if (v.lower !== null || v.upper !== null) {\n      updated.datePicker = {};\n      updated.widget = {};\n\n      if (v.lower !== null) {\n        //  StructMD-IRspec v.lower  v.upper \n        let t: string = v.lower.format(\"YYYY-MM-DD\");\n        updated.datePicker.minDate = t;\n        updated.widget.minDate = t;\n        range += `${v.lower.format(\"YYYY-MM-DD\")}~`;\n      }\n\n      if (v.upper !== null) {\n        range += `~${v.upper.format(\"YYYY-MM-DD\")}()`;\n\n        // v.upper  range\n\n        let t: string = v.upper.subtract(1, \"s\").format(\"YYYY-MM-DD\");\n        updated.datePicker.maxDate = t;\n        updated.widget.maxDate = t;\n      }\n    }\n\n    // tooltip\n    updated.tooltip += \"  \";\n    if (range.length !== 0) {\n      updated.tooltip += `  [${range.replace(\"~~\", \"~\")}]`;\n    }\n\n    if (v.mustHave === DatePrecision.YMDT) {\n      return [];  //  form.io \n    }\n\n    // mustHave  YMDT  radio v2.2 \n    let x: string = `${fqLeafParent}.${updated.key}`;\n    let radio: any = {\n      \"type\": \"radio\",\n      \"key\": `${updated.key}${VisitorFormIO.datePrecisionPostfix}`,\n      \"label\": `(${updated.label})`,\n      \"labelPosition\": VisitorFormIO.formioLabelPosition,\n      \"labelWidth\": VisitorFormIO.formioLabelWidth,\n      \"labelMargin\": VisitorFormIO.formioLabelMargin,\n      \"tooltip\": \"[1]  \",\n      \"validate\": { \"required\": true },\n      \"values\": [],\n      \"defaultValue\": `${VisitorFormIO.optionPrefix}${DatePrecision.YMDT.toFixed()}`,\n      \"inline\": VisitorFormIO.formioInline,\n      \"customConditional\":\n        `show=!(`\n        + `${x}===undefined||${x}===\"\"`\n        + `||`\n        + `Array.isArray(${x})`\n        + `&&`\n        + `${x}.reduce((a,x)=>(x===undefined||x===\"\")&&a,true)`\n        + `)`\n    };\n\n    switch (v.mustHave) {\n      case undefined:\n      case DatePrecision.Y:\n        radio.values.push({\n          \"label\": \"\",\n          \"value\": `${VisitorFormIO.optionPrefix}${DatePrecision.Y.toFixed()}`\n        });\n        break;\n      // fall through\n\n      case DatePrecision.YM:\n        radio.values.push({\n          \"label\": \"\",\n          \"value\": `${VisitorFormIO.optionPrefix}${DatePrecision.YM.toFixed()}`\n        });\n        break;\n      // fall through\n\n      case DatePrecision.YMD:\n        radio.values.push({\n          \"label\": \"\",\n          \"value\": `${VisitorFormIO.optionPrefix}${DatePrecision.YMD.toFixed()}`\n        });\n        radio.values.push({\n          \"label\": \"\",\n          \"value\": `${VisitorFormIO.optionPrefix}${DatePrecision.YMDT.toFixed()}`\n        });\n    }\n    return [radio];\n  }\n\n  /**\n   * @param updated  form.io \n   *                 DateType \n   *                tooltip \n   * @param useless \n   * @param fqLeafParent  DateType  LeafNode  LeafAttachment\n   *                      Fully Qualified name\n   *                      form.io  API property name  data \n   *                      show=...  fully qualified name\n   *                     \n   * @return  form.io  (updated )\n   *         mustHave  YMD  radio \n   */\n  visitDateType(v: DateType,\n    updated: any,\n    useless: LeafNode | LeafAttachment,\n    fqLeafParent: string): any[] {\n    // \n    updated.type = \"datetime\";\n    updated.format = \"yyyy-MM-dd\";\n\n    //  datetime\n    updated.enableTime = false;\n\n    // \n    if (typeof v.defaultValue === \"string\") {\n      switch (v.defaultValue) {\n        case \"now\":\n          //  moment() \n          //  moment()  00:00:00+08:00\n          updated.defaultDate = `moment(moment().format(\"YYYY-MM-DD\"))`;\n          break;\n\n        //  case \n\n        default: // \n          updated.defaultValue = moment(v.defaultValue).format(\"YYYY-MM-DDTHH:mm:ssZ\");\n      }\n    }\n\n    // \n    let range: string = \"\";\n    if (v.lower !== null || v.upper !== null) {\n      updated.datePicker = {};\n      updated.widget = {};\n\n      if (v.lower !== null) {\n        //  StructMD-IRspec v.lower  v.upper \n        let t: string = v.lower.format(\"YYYY-MM-DD\");\n        updated.datePicker.minDate = t;\n        updated.widget.minDate = t;\n        range += `${v.lower.format(\"YYYY-MM-DD\")}~`;\n      }\n\n      if (v.upper !== null) {\n        range += `~${v.upper.subtract(1, \"d\").format(\"YYYY-MM-DD\")}`;\n\n        // v.upper  range\n\n        let t: string = v.upper.subtract(1, \"s\").format(\"YYYY-MM-DD\");\n        updated.datePicker.maxDate = t;\n        updated.widget.maxDate = t;\n      }\n    }\n\n    // tooltip\n    updated.tooltip += \"  \";\n    if (range.length !== 0) {\n      updated.tooltip += `  [${range.replace(\"~~\", \"~\")}]`;\n    }\n\n    if (v.mustHave === DatePrecision.YMD) {\n      return [];  //  form.io \n    }\n\n    // mustHave  YMD  radio v2.2 \n    let x: string = `${fqLeafParent}.${updated.key}`;\n    let radio: any = {\n      \"type\": \"radio\",\n      \"key\": `${updated.key}${VisitorFormIO.datePrecisionPostfix}`,\n      \"label\": `(${updated.label})`,\n      \"labelPosition\": VisitorFormIO.formioLabelPosition,\n      \"labelWidth\": VisitorFormIO.formioLabelWidth,\n      \"labelMargin\": VisitorFormIO.formioLabelMargin,\n      \"tooltip\": \"[1]  \",\n      \"validate\": { \"required\": true },\n      \"values\": [],\n      \"defaultValue\": `${VisitorFormIO.optionPrefix}${DatePrecision.YMD.toFixed()}`,\n      \"inline\": VisitorFormIO.formioInline,\n      \"customConditional\":\n        `show=!(`\n        + `${x}===undefined||${x}===\"\"`\n        + `||`\n        + `Array.isArray(${x})`\n        + `&&`\n        + `${x}.reduce((a,x)=>(x===undefined||x===\"\")&&a,true)`\n        + `)`\n    };\n\n    switch (v.mustHave) {\n      case undefined:\n      case DatePrecision.Y:\n        radio.values.push({\n          \"label\": \"\",\n          \"value\": `${VisitorFormIO.optionPrefix}${DatePrecision.Y.toFixed()}`\n        });\n        break;\n      // fall through\n\n      case DatePrecision.YM:\n        radio.values.push({\n          \"label\": \"\",\n          \"value\": `${VisitorFormIO.optionPrefix}${DatePrecision.YM.toFixed()}`\n        });\n        radio.values.push({\n          \"label\": \"\",\n          \"value\": `${VisitorFormIO.optionPrefix}${DatePrecision.YMD.toFixed()}`\n        });\n    }\n    return [radio];\n  }\n\n  /**\n   * @param updated  form.io \n   *                 TimeType \n   *                tooltip \n   * @return  form.io  (updated )\n   *         \n   */\n  visitTimeType(v: TimeType,\n    updated: any): any[] {\n    // \n    updated.type = \"time\";\n    updated.inputType = \"text\";\n    updated.format = \"HH:mm:ss\";\n\n    // \n    if (v.defaultValue !== null) {\n      updated.defaultValue = v.defaultValue;\n    }\n\n    // tooltip\n    updated.tooltip += \"  \";\n\n    return [];  //  form.io \n  }\n\n  /**\n   * @param updated  form.io \n   *                 BooleanType \n   *                tooltip \n   * @param astLeaf Abstract Syntax Tree  BooleanType  LeafNode  LeafAttachment\n   *                 IRspec  BooleanType  macro\n   *                 LeafNode  LeafAttachment \n   * @return  form.io  (updated )\n   *         \n   */\n  visitBooleanType(v: BooleanType,\n    updated: any,\n    astLeaf: LeafNode | LeafAttachment): any[] {\n    //  0..1  1..1  boolean  radio \n    //      checkbox 0..1 true, false \n    //  editGrid  radio\n\n    if (astLeaf.cardinality.upper === 1) {\n      // \n      updated.type = \"radio\";\n      updated.inline = VisitorFormIO.formioInline;\n      updated.values = [\n        // {\n        //     \"label\": (v.displayTrue !== null) ? v.displayTrue : \"true\",\n        //     \"value\": \"true\"\n        // },\n        //  \"true\"  form.io \n        {\n          \"label\": (v.displayTrue !== null)\n            ? v.displayTrue\n            : VisitorFormIO.formioTrue,\n          \"value\": VisitorFormIO.formioTrue\n        },\n        {\n          \"label\": (v.displayFalse !== null)\n            ? v.displayFalse\n            : VisitorFormIO.formioFalse,\n          \"value\": VisitorFormIO.formioFalse\n        }\n      ];\n\n      // \n      if (v.defaultValue !== null) {\n        updated.defaultValue = v.defaultValue\n          ? VisitorFormIO.formioTrue\n          : VisitorFormIO.formioFalse;\n      }\n\n      //  required  visitCardinality() \n\n    } else {\n      // \n      updated.type = \"editgrid\";\n      updated.hideLabel = true;\n      delete updated.labelPosition;\n      delete updated.labelWidth;\n      delete updated.labelMargin;\n      updated.components = [\n        {\n          key: VisitorFormIO.formioBooleanArrayElementName,\n          // label: updated.lable,  \n          hideLabel: true,\n          tableView: true,\n\n          // \n          type: \"radio\",\n          inline: VisitorFormIO.formioInline,\n          values: [\n            {\n              \"label\": (v.displayTrue !== null)\n                ? v.displayTrue\n                : VisitorFormIO.formioTrue,\n              \"value\": VisitorFormIO.formioTrue\n            },\n            {\n              \"label\": (v.displayFalse !== null)\n                ? v.displayFalse\n                : VisitorFormIO.formioFalse,\n              \"value\": VisitorFormIO.formioFalse\n            }\n          ],\n\n          //  editgrid  radio  required\n          //  boolean[]  editgrid  min/maxlength \n          //  visitCardinality() \n          validate: {\n            \"required\": true\n          }\n        }\n      ];\n\n      // \n      updated.components[0].label = updated.label;\n\n      // \n      if (v.defaultValue !== null) {\n        updated.components[0].defaultValue = v.defaultValue\n          ? VisitorFormIO.formioTrue\n          : VisitorFormIO.formioFalse;\n      }\n    }\n\n    // tooltip\n    updated.tooltip += \"  \";\n    updated.tooltip += ((v.displayTrue !== null) ? `  ${v.displayTrue}true` : \"\")\n      + ((v.displayFalse !== null) ? `  ${v.displayFalse}false` : \"\");\n\n    return [];  //  form.io \n  }\n\n  /**\n   * @param updated  form.io \n   *                 CodeType \n   * @param astLeaf Abstract Syntax Tree  CodeType  LeafNode  LeafAttachment\n   *                 IRspec  CodeType  macro\n   *                 LeafNode  LeafAttachment \n   * @param fqLeafParent  CodeType  LeafNode  LeafAttachment\n   *                      Fully Qualified name\n   *                      form.io  API property name  data \n   *                      show=...  valid=...  fully qualified name\n   *                     \n   * @param fqAttachPrefix  CodeType  attachment\n   *                       IR  attachement \n   *                        attachment  Option  code\n   * @returns  CodeType  Attachment Attachment  form.io \n   */\n  visitCodeType(v: CodeType,\n    updated: any,\n    astLeaf: LeafNode | LeafAttachment,\n    fqLeafParent: string,\n    fqAttachPrefix: string): any[] {\n    let formioOptions: object[] = v.options.map(x => x.accept(this));\n    //  visitOption()\n\n    let formioDefaults: string[] = [];\n    if (v.defaults !== null) {\n      formioDefaults = v.defaults.map(x => VisitorFormIO.optionPrefix + x.code);\n      // v2.1.4 \n    }\n\n    // v2.1.4 \n    if (this.selectThreshold <= v.options.length) {\n      //  select\n      updated.type = \"select\";\n      updated.data = {\n        values: formioOptions\n      };\n\n      if (astLeaf.cardinality.upper === 1) {\n        if (formioDefaults.length > 0) {\n          // form.io  select  string\n          updated.defaultValue = formioDefaults[0];\n        }\n\n      } else {\n        updated.multiple = true;\n        if (formioDefaults.length > 0) {\n          // form.io  select + multiple  string[]\n          updated.defaultValue = formioDefaults;\n        }\n      }\n\n    } else if (astLeaf.cardinality.upper === 1) {\n      //  radio\n      updated.type = \"radio\";\n      updated.values = formioOptions;\n      updated.inline = VisitorFormIO.formioInline;\n\n      if (formioDefaults.length > 0) {\n        // form.io  radio  string\n        updated.defaultValue = formioDefaults[0];\n      }\n\n    } else {\n      //  selectBoxes\n      updated.type = \"selectboxes\";\n      updated.values = formioOptions;\n      updated.inline = VisitorFormIO.formioInline;\n      if (formioDefaults.length > 0) {\n        updated.defaultValue = {};\n        for (let d of formioDefaults) {\n          updated.defaultValue[d] = true;\n        }\n      }\n    }\n\n    //  attachment \n    let attachments: any[] = [];\n    for (let option of v.options) {\n      if (option.attachment !== null) {\n        attachments.push(\n          ...option.attachment.accept(\n            this,\n            astLeaf,\n            fqLeafParent,\n            `${fqLeafParent}.${updated.key}`,\n            // fqAttachPrefix + Attachment.sep + option.code    v2.2 \n            fqAttachPrefix + Attachment.sep + option.seqno\n          )\n          //  visitNonLeafAttachment(), visitLeafAttachment()\n        );\n      }\n    }\n    return attachments;\n  }\n\n  /**\n   * StructMD-IRspec  Form.io \n   * @param v StructMD-IRspec \n   * @returns Form.io \n   */\n  visitOption(v: Option): any {\n    return {\n      label: v.display,\n      value: VisitorFormIO.optionPrefix + v.code\n      // v2.1.4 \n    };\n  }\n\n  /**\n   * @param astLeaf Abstract Syntax Tree  NonLeafAttachment\n   *                 Option  CodeType  LeafNode  LeafAttachment\n   * @param fqLeafParent  NonLeafAttachment\n   *                      Option  CodeType  LeafNode  LeafAttachment\n   *                      Fully Qualified name\n   *                      form.io  API property name  data \n   *                      show=...  valid=...  fully qualified name\n   *                     \n   *                      NonLeafAttachment  form.io  API property name \n   *                     \n   * @param fqSubject  NonLeafAttachment  subject  Fully Qualified name\n   * @param irAttachName IR  NonLeafAttachment \n   * @returns  form.io  panel + (container  editgrid)\n   *          container  editgrid  NonLeafAttachment  children  form.io  \n   */\n  visitNonLeafAttachment(v: NonLeafAttachment,\n    astLeaf: LeafNode | LeafAttachment,\n    fqLeafParent: string,\n    fqSubject: string,\n    irAttachName: string): any[] {\n    //  form.io  container  editGrid \n    //  container  editGrid  panel\n\n    let result: any[] = [\n      {\n        type: \"panel\",\n        theme: VisitorFormIO.formioPanelTheme,\n        collapsible: VisitorFormIO.formioPanelCollapsible,\n        // collapsed: VisitorFormIO.formioPanelCollapsible,\n        collapsed: false,                   // \n        title: `${v.subject.display} `, // panel  title label\n        hideLabel: false,                   //  title\n        tooltip: \"TBD\",                     //  tooltip \n        components: [\n          {\n            //  NonLeafAttachment  cardinality.upper = 1\n            //  container  NonLeafAttachment  children  form.io \n            //  editGrid\n            type: v.cardinality.upper === 1\n              ? \"container\"\n              : \"editgrid\",\n            key: irAttachName,\n            label: `${v.subject.display} `,\n            hideLabel: true,                //  label panel  title\n            tooltip: v.description === null //  IRspec \n              ? \"\"                     // visitCardinality() \n              : `  ${v.description}`,  //  panel delete\n            validate: {},                   // visitCardinality() \n            //  delete\n            components: []                  // \n          }\n        ]\n      }\n    ];\n\n    let panel: any = result[0];\n    let container: any = panel.components[0];  //  container editgrid\n\n    //  NonLeafAttachment \n    let formioCode: string = VisitorFormIO.optionPrefix + v.subject.code;\n    let selectedCondition: string;\n    if (astLeaf.cardinality.upper === 1) {\n      //  select  radio\n      selectedCondition = `${fqSubject}===\"${formioCode}\"`;\n\n    } else if (this.selectThreshold <= (<CodeType>astLeaf.type).options.length) {\n      //  select\n      selectedCondition = `${fqSubject}.includes(\"${formioCode}\")`;\n\n    } else {\n      //  selectBoxes\n      selectedCondition = `${fqSubject}.${formioCode}`;\n    }\n    panel.customConditional = `show=${fqSubject}!==undefined&&${selectedCondition};`,\n\n      //  cardinality\n      //  visitCardinality\n      v.cardinality.accept(this, container, `${fqLeafParent}.${irAttachName}`);\n\n    //  validate \n    if (Object.keys(container.validate).length === 0) {\n      delete container.validate;\n    }\n\n    //  container  editgrid  tooltip \n    if (container.tooltip.length > 2) {\n      //  tooltip \n      panel.tooltip = container.tooltip.substring(2);\n    }\n    delete container.tooltip;\n\n    //  NonLeafAttachment  children  container  editgrid\n    for (let child of v.children) {\n      let p: string = result[0].type === \"editgrid\"\n        ? \"row\"  // editgrid  row \n        : `${fqLeafParent}.${irAttachName}`;\n      container.components.push(...child.accept(this, `${p}`));\n      //  visitCommentNode(), visitNonLeafNode(),\n      // visitLeafNode()\n    }\n\n    return result;\n  }\n\n  /**\n   * @param astLeaf Abstract Syntax Tree  LeafAttachment\n   *                 Option  CodeType  LeafNode  LeafAttachment\n   * @param fqLeafParent  LeafAttachment\n   *                      Option  CodeType  LeafNode  LeafAttachment\n   *                      Fully Qualified name\n   *                      form.io  API property name  data \n   *                      show=...  valid=...  fully qualified name\n   *                     \n   * @param fqSubject  LeafAttachment  subject  Fully Qualified name\n   * @param irAttachName IR  LeafAttachment \n   * @returns  LeafAttachment  form.io \n   *          CodeType  Attachment  form.io \n   */\n  visitLeafAttachment(v: LeafAttachment,\n    astLeaf: LeafNode | LeafAttachment,\n    fqLeafParent: string,\n    fqSubject: string,\n    irAttachName: string): any[] {\n    let result: any[] = [\n      {\n        type: \"TBD\",                    //  visitXXXType \n        key: irAttachName,\n        label: `${v.subject.display} `,\n        labelPosition: VisitorFormIO.formioLabelPosition,\n        labelWidth: VisitorFormIO.formioLabelWidth,\n        labelMargin: VisitorFormIO.formioLabelMargin,\n        hideLabel: false,               // \n        tableView: false,\n        tooltip: v.description === null //  IRspec \n          ? \"\"                     // visitCardinality() \n          : `  ${v.description}`,  // \n        validate: {}                    // visitCardinality() \n        //  delete\n      }\n    ];\n\n    //  type  result[0]\n    //  form.io ( attachment) result\n    result.push(\n      ...v.type.accept(\n        this,          //  visitXXXType() \n        result[0],     //  visitXXXType() \n        v,             // visitBooleanType()  visitCodeType() \n        fqLeafParent,  //  visitCodeType() \n        irAttachName   //  visitCodeType() \n      )\n    );  //  visitXXXType()\n\n    //  LeafAttachment \n    let formioCode: string = VisitorFormIO.optionPrefix + v.subject.code;\n    let selectedCondition: string;\n    if (astLeaf.cardinality.upper === 1) {\n      //  select  radio\n      selectedCondition = `${fqSubject}===\"${formioCode}\"`;\n\n    } else if (this.selectThreshold <= (<CodeType>astLeaf.type).options.length) {\n      //  select\n      selectedCondition = `${fqSubject}.includes(\"${formioCode}\")`;\n\n    } else {\n      //  selectBoxes\n      selectedCondition = `${fqSubject}.${formioCode}`;\n    }\n    result[0].customConditional = `show=${fqSubject}!==undefined&&${selectedCondition};`,\n\n      //  cardinality\n      //  visitCardinality()\n      v.cardinality.accept(this, result[0], `${fqLeafParent}.${irAttachName}`);\n\n    //  validate \n    if (Object.keys(result[0].validate).length === 0) {\n      delete result[0].validate;\n    }\n\n    if (result[0].tooltip.length > 2) {\n      //  tooltip \n      result[0].tooltip = result[0].tooltip.substring(2);\n    } else {\n      delete result[0].tooltip;\n    }\n\n    if (result[0].defaultValue === undefined) {\n      switch (result[0].type) {\n        case \"number\":      //  form.io  placeholder\n        case \"textfield\":\n        case \"textarea\":\n        case \"datetime\":\n        case \"time\":\n        case \"select\":      // v2.1.4 \n\n          //  description  description tooltip\n          result[0].placeholder = v.description !== null\n            ? v.description\n            : result[0].tooltip;\n      }\n    }\n\n    return result;\n  }\n\n  //..10...15...20...25...30...35...40...45...50...55...60...65...70...75...80...85...90...95..100\n  // \n\n  visitMacroMap(visitee: MacroMap): any {\n    throw new Error(\"Method not implemented.\");\n  }\n  visitNonLeafMacro(visitee: NonLeafMacro): any {\n    throw new Error(\"Method not implemented.\");\n  }\n  visitLeafMacro(visitee: LeafMacro): any {\n    throw new Error(\"Method not implemented.\");\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { NgModule } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\n\nimport { QuestionnaireCenterModule } from './questionnaire-center/questionnaire-center.module';\nimport { SmartAuthModule } from './smart-auth/smart-auth.module';\n@NgModule({\n  declarations: [AppComponent],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n\n    QuestionnaireCenterModule,\n    SmartAuthModule,\n  ],\n  providers: [],\n  bootstrap: [AppComponent],\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\n\nimport * as FHIR from 'fhirclient';\nimport Client from 'fhirclient/lib/Client';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FhirClientService {\n\n  private client: Client | null = null;\n\n  constructor() { }\n\n  //  FHIR.oauth2.ready \n  async initializeClient(): Promise<Client> {\n\n    if (this.client) return this.client; // \n\n    try {\n      const ReadyOptions = { code: sessionStorage.getItem('code_self'), stateKey: sessionStorage.getItem('state_self') }\n      this.client = await FHIR.oauth2.ready(ReadyOptions);\n      return this.client;\n    } catch (error) {\n      console.error('FHIR Client ', error);\n      throw error;\n    }\n  }\n\n  //  client\n  getClient(): Client {\n    if (!this.client) {\n      throw new Error('Client  initializeClient');\n    }\n    return this.client;\n  }\n\n  //  request \n  async request(url: string, options?: any) {\n    const client = this.getClient();\n    return await client.request(url, options);\n  }\n\n}\n","import { IRspec } from \"./StructMD-IRspec\";\nimport { VisitorFormIO } from \"./VisitorFormIO\";\n\nexport class QuestionnaireToIr {\n\n    static singleton: QuestionnaireToIr = new QuestionnaireToIr();\n\n    constructor() { }\n\n    public start(items: any[]) {\n        const irSpec = {\n            specNum: 0,\n            display: \"\",\n            child: this.traverseItems(items)\n        }\n        new IRspec(JSON.stringify(irSpec)); // IRspecnewinputirSpecstring\n        const specNo = irSpec.specNum;\n        const formTmpl = VisitorFormIO.singleton.gen(specNo)\n        return formTmpl;\n    }\n\n\n    /**\n     * FHIR Questionnaire Item \n     * @param items Questionnaire.item \n     * @param parentIR  IR  ()\n     */\n    private traverseItems(items: any[], parentIR?: any): any[] {\n        if (!items || items.length === 0) return [];\n\n        return items.map(item => {\n            // 1.  FHIR Item  IR \n\n            //  node \n            const card = `${item.required ? \"1\" : \"0\"}..${item.repeats ? \"*\" : \"1\"}`;\n\n            const currentNode = {\n                name: item.text, // \n                mName: item.linkId, // \n                card: card, // \n                child: [], // \n                type: this.mapFhirTypeToIR(item.type),    //  (boolean -> checkbox )\n            };\n\n            // 2.  item  ( type  group)\n            if (item.item && item.item.length > 0 && item.type == 'group') {\n                currentNode.child = this.traverseItems(item.item, currentNode);\n                delete currentNode.type;\n                return currentNode;\n            } else {\n                delete currentNode.child;\n                //  item  choice\n                if (item.type === 'choice' || item.type === 'open-choice') {\n                    currentNode['option'] = this.extractOptions(item);\n                }\n                return currentNode;\n            }\n        });\n    }\n\n    /**\n     *  FHIR  10  IR \n     */\n    private mapFhirTypeToIR(fhirType: string): string {\n        const mapping: { [key: string]: string } = {\n            'decimal': 'decimal',\n            'integer': 'integer',\n            'string': 'string',\n            'text': 'markdown',     // FHIR text  markdown\n            'date': 'date',\n            'dateTime': 'dateTime',\n            'boolean': 'boolean',\n            'time': 'time',\n            'attachment': 'base64Binary',\n            'choice': 'code',       //  code\n            'open-choice': 'code',\n            'quantity': 'decimal'   //  decimal\n        };\n        return mapping[fhirType] || 'string';\n    }\n\n    /**\n     *  FHIR answerOption  IR  OPTION_ARRAY\n     */\n    private extractOptions(item: any): any[] {\n        if (!item.answerOption || !Array.isArray(item.answerOption)) {\n            return [];\n        }\n\n        return item.answerOption.map((opt: any) => {\n            // FHIR  Coding\n            if (opt.valueCoding) {\n                return {\n                    code: opt.valueCoding.code,\n                    display: opt.valueCoding.display || opt.valueCoding.code\n                };\n            } else if (opt.valueString) {\n                return {\n                    code: opt.valueString,\n                    display: opt.valueString\n                };\n            } else if (opt.valueInteger) {\n                return {\n                    code: opt.valueInteger.toString(),\n                    display: opt.valueInteger.toString()\n                };\n            }\n            return { code: 'unknown', display: '' };\n        });\n    }\n\n}","import { Component, OnInit, EventEmitter } from '@angular/core';\n\nimport { FhirClientService } from '../smart-auth/fhir-client.service';\nimport { QuestionnaireToIr } from '../structure-ir/questionnaire-to-ir';\n\n@Component({\n  selector: 'app-questionnaire-center',\n  templateUrl: './questionnaire-center.component.html',\n  styleUrls: ['./questionnaire-center.component.scss']\n})\nexport class QuestionnaireCenterComponent implements OnInit {\n\n  public questionnaireList: any[] = [];\n\n  // \n  public activeTab: \"search\" | \"render\" = \"search\";\n\n  // \n  public searchTitle: string = \"\";\n\n  // \n  public searchStatus: string = \"all\";\n\n  public dateStart: Date\n  public dateEnd: Date\n\n  //  url\n  public nextUrl: string = \"\";\n\n  // \n  public tmpl = {};\n  // formIo refresh\n  public triggerRefresh;\n\n  constructor(private fhirSvc: FhirClientService) { }\n\n  ngOnInit(): void {\n    console.log('questionnaire component ', window.location.href);\n    this.fhirSvc.initializeClient()\n      .then((client) => {\n        client.request('Questionnaire')\n          .then((bundle) => {\n            this.questionnaireList = bundle.entry.map(x => x.resource);\n            console.log('questionList', this.questionnaireList);\n            console.log('questionList string', JSON.stringify(this.questionnaireList));\n          });\n      });\n  }\n\n  public async onSearch() {\n    //  _elements \n    let url = `Questionnaire?_elements=id,title,status,version,publisher,date&_count=10`;\n\n    if (this.searchTitle) {\n      url += `&title:contains=${this.searchTitle}`;\n    }\n\n    if (this.searchStatus !== 'all') {\n      url += `&status=${this.searchStatus}`;\n    }\n\n    if (this.dateStart) {\n      url += `&date=ge${this.dateStart}`;\n    }\n    if (this.dateEnd) {\n      url += `&date=le${this.dateEnd}`;\n    }\n\n    const bundle = await this.fhirSvc.request(url);\n    console.log('bundle', bundle);\n    this.processBundle(bundle, false); // false \n  }\n\n  processBundle(bundle: any, append: boolean) {\n    // 1. \n    const newItems = (bundle.entry || []).map((e: any) => e.resource);\n    this.questionnaireList = append ? [...this.questionnaireList, ...newItems] : newItems;\n\n    // 2. \n    const nextLink = (bundle.link || []).find((l: any) => l.relation === 'next');\n    this.nextUrl = nextLink ? nextLink.url : null;\n  }\n\n  async loadNextPage() {\n    if (this.nextUrl) {\n      // fhirclient  request  URL\n      const bundle = await this.fhirSvc.request(this.nextUrl);\n      this.processBundle(bundle, true); // true \n    }\n  }\n\n  async selectQuestionnaire(id) {\n    console.log('', id);\n    let url = `Questionnaire/${id}`;\n    const bundle = await this.fhirSvc.request(url);\n    console.log('itemmm', bundle);\n    this.activeTab = \"render\";\n    const tmpl = QuestionnaireToIr.singleton.start(bundle.item);\n    this.tmpl = JSON.parse(JSON.stringify(tmpl));\n    console.log('tmpl', tmpl);\n    // formIo refresh\n    this.triggerRefresh = new EventEmitter();\n  }\n\n}\n","<div class=\"tab-container\">\n    <div class=\"tabs\">\n        <button class=\"tab-btn\" [class.active]=\"activeTab === 'search'\" (click)=\"activeTab = 'search'\">\n            \n        </button>\n        <button class=\"tab-btn\" [class.active]=\"activeTab === 'render'\" (click)=\"activeTab = 'render'\">\n            \n        </button>\n    </div>\n\n    <div class=\"tab-content\">\n        <div *ngIf=\"activeTab === 'search'\">\n            <div class=\"q-container\">\n                <div class=\"search-toolbar\">\n                    <input type=\"text\" [(ngModel)]=\"searchTitle\" placeholder=\"...\" class=\"search-input\">\n                    <div class=\"date-group\">\n                        <label></label>\n                        <input type=\"date\" [(ngModel)]=\"dateStart\" class=\"input-date\">\n                        <span></span>\n                        <input type=\"date\" [(ngModel)]=\"dateEnd\" class=\"input-date\">\n                    </div>\n                    <select [(ngModel)]=\"searchStatus\" class=\"search-select\">\n                        <option value=\"active\"> (Active)</option>\n                        <option value=\"retired\"> (Retired)</option>\n                        <option value=\"all\"></option>\n                    </select>\n                    <button (click)=\"onSearch()\" class=\"btn-search\"></button>\n                </div>\n\n                <table class=\"q-table\">\n                    <thead>\n                        <tr>\n                            <th> (Title)</th>\n                            <th> (Ver.)</th>\n                            <th> (Status)</th>\n                            <th> (Publisher)</th>\n                            <th> (Date)</th>\n                            <th></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor=\"let q of questionnaireList\">\n                            <td><strong>{{ q.title }}</strong></td>\n                            <td>{{ q.version }}</td>\n                            <td><span [class]=\"'badge-' + q.status\">{{ q.status }}</span></td>\n                            <td>{{ q.publisher }}</td>\n                            <td>{{ q.date | date:'yyyy-MM-dd' }}</td>\n                            <td>\n                                <button (click)=\"selectQuestionnaire(q.id)\" class=\"btn-action\"></button>\n                            </td>\n                        </tr>\n                        <tr *ngIf=\"questionnaireList.length === 0\">\n                            <td colspan=\"6\" style=\"text-align: center;\"></td>\n                        </tr>\n                    </tbody>\n                </table>\n\n                <div class=\"pagination-footer\" *ngIf=\"nextUrl\">\n                    <button (click)=\"loadNextPage()\" class=\"btn-next\"> ()</button>\n                </div>\n            </div>\n\n        </div>\n\n        <div *ngIf=\"activeTab === 'render'\">\n            <div class=\"placeholder-box\">\n                <h3>Form.io </h3>\n                <p> IR </p>\n                <div *ngIf=\"tmpl\">\n                    <formio [form]=\"tmpl\" [refresh]=\"triggerRefresh\"></formio>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LaunchComponent } from './smart-auth/launch.component';\nimport { QuestionnaireCenterComponent } from './questionnaire-center/questionnaire-center.component';\n\nconst routes: Routes = [\n  // { path: 'index', component: AppComponent },      //  ()\n  // { path: '', redirectTo: 'index', pathMatch: 'full' }\n  // { path: '', redirectTo: 'launch', pathMatch: 'full' },\n  { path: '', component: LaunchComponent }, // \n  {\n    path: 'questionnaire-center',\n    component: QuestionnaireCenterComponent,\n  },\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forRoot(routes, {\n      useHash: true,\n      onSameUrlNavigation: 'reload'\n    })\n  ],\n  exports: [RouterModule],\n})\nexport class AppRoutingModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}